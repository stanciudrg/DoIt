/*! For license information please see 7df7462fbb65fdd7f77e.js.LICENSE.txt */
(()=>{var e={895:()=>{"use strict";"function"!=typeof Object.assign&&(Object.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)throw TypeError("Cannot convert undefined or null to object");for(var o=function(t){t&&Object.keys(t).forEach((function(n){return e[n]=t[n]}))},i=0,r=t;i<r.length;i++)o(r[i]);return e})},798:function(e,t,n){e=n.nmd(e),function(n,o){"use strict";var i={};n.PubSub?(i=n.PubSub,console.warn("PubSub already loaded, using existing version")):(n.PubSub=i,function(e){var t={},n=-1,o="*";function i(e,t,n){try{e(t,n)}catch(e){setTimeout(function(e){return function(){throw e}}(e),0)}}function r(e,t,n){e(t,n)}function a(e,n,o,a){var s,c=t[n],d=a?r:i;if(Object.prototype.hasOwnProperty.call(t,n))for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&d(c[s],e,o)}function s(e){var n=String(e);return Boolean(Object.prototype.hasOwnProperty.call(t,n)&&function(e){var t;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}(t[n]))}function c(e,t,n,i){var r=function(e,t,n){return function(){var i=String(e),r=i.lastIndexOf(".");for(a(e,e,t,n);-1!==r;)r=(i=i.substr(0,r)).lastIndexOf("."),a(e,i,t,n);a(e,o,t,n)}}(e="symbol"==typeof e?e.toString():e,t,i);return!!function(e){for(var t=String(e),n=s(t)||s(o),i=t.lastIndexOf(".");!n&&-1!==i;)i=(t=t.substr(0,i)).lastIndexOf("."),n=s(t);return n}(e)&&(!0===n?r():setTimeout(r,0),!0)}e.publish=function(t,n){return c(t,n,!1,e.immediateExceptions)},e.publishSync=function(t,n){return c(t,n,!0,e.immediateExceptions)},e.subscribe=function(e,o){if("function"!=typeof o)return!1;e="symbol"==typeof e?e.toString():e,Object.prototype.hasOwnProperty.call(t,e)||(t[e]={});var i="uid_"+String(++n);return t[e][i]=o,i},e.subscribeAll=function(t){return e.subscribe(o,t)},e.subscribeOnce=function(t,n){var o=e.subscribe(t,(function(){e.unsubscribe(o),n.apply(this,arguments)}));return e},e.clearAllSubscriptions=function(){t={}},e.clearSubscriptions=function(e){var n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e)&&delete t[n]},e.countSubscriptions=function(e){var n,o,i=0;for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e)){for(o in t[n])i++;break}return i},e.getSubscriptions=function(e){var n,o=[];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e)&&o.push(n);return o},e.unsubscribe=function(n){var o,i,r,a="string"==typeof n&&(Object.prototype.hasOwnProperty.call(t,n)||function(e){var n;for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&0===n.indexOf(e))return!0;return!1}(n)),s=!a&&"string"==typeof n,c="function"==typeof n,d=!1;if(!a){for(o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(i=t[o],s&&i[n]){delete i[n],d=n;break}if(c)for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&i[r]===n&&(delete i[r],d=!0)}return d}e.clearSubscriptions(n)}}(i)),void 0!==e&&e.exports&&(t=e.exports=i),t.PubSub=i,e.exports=t=i}("object"==typeof window&&window||this)},12:e=>{e.exports='<svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m12.03 5-.018 14"></path><path d="M5 12h14"></path></svg>'},146:e=>{e.exports='<svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M2 15 4.5 3h15L22 15"></path><path d="M2 15h5.455l.909 3h7.272l.91-3H22v6.5H2V15Z"></path><path d="M9.5 7h5"></path><path d="M8 11h8"></path></svg>'},652:e=>{e.exports='<svg fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M11.5 2 6 11h11l-5.5-9Zm0 3.84L13.43 9H9.56l1.94-3.16ZM17 13c-2.49 0-4.5 2.01-4.5 4.5S14.51 22 17 22s4.5-2.01 4.5-4.5S19.49 13 17 13Zm0 7a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5ZM2.5 21.5h8v-8h-8v8Zm2-6h4v4h-4v-4Z"></path></svg>'},172:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><path d="M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"></path></svg>'},500:e=>{e.exports='<svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 21h18"></path><path d="M5.5 13.36V17h3.659L19.5 6.654 15.848 3 5.5 13.36Z"></path></svg>'},536:e=>{e.exports='<svg fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M6 4h12v2H6V4Zm6 16.414 6.707-6.707-1.414-1.414L13 16.586V8h-2v8.586l-4.293-4.293-1.414 1.414L12 20.414Z"></path></svg>'},350:e=>{e.exports='<svg fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m3 4.5 7.2 8.409v6.313L13.8 21v-8.091L21 4.5H3Z"></path></svg>'},631:e=>{e.exports='<svg fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M21 17.997v2H3v-2h18ZM6.95 3.547v9.9L2 8.497l4.95-4.95ZM21 10.997v2h-9v-2h9Zm0-7v2h-9v-2h9Z"></path></svg>'},171:e=>{e.exports='<svg fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16.97 14.332a7.8 7.8 0 1 0-1.676 1.678h-.001c.036.048.074.094.117.138l4.62 4.62a1.2 1.2 0 0 0 1.698-1.697l-4.62-4.62a1.201 1.201 0 0 0-.138-.12v.001Zm.31-4.612a6.6 6.6 0 1 1-13.2 0 6.6 6.6 0 0 1 13.2 0Z"></path></svg>'},770:e=>{e.exports='<svg fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13.32 18.48a1.8 1.8 0 1 1-3.6 0 1.8 1.8 0 0 1 3.6 0Zm0-6a1.8 1.8 0 1 1-3.6 0 1.8 1.8 0 0 1 3.6 0Zm0-6a1.8 1.8 0 1 1-3.6 0 1.8 1.8 0 0 1 3.6 0Z"></path></svg>'},773:e=>{e.exports='<svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.5 7 8 2.5 3.5 7"></path><path d="M7.996 15.5v-13"></path><path d="m21 17-4.5 4.5L12 17"></path><path d="M16.496 8.5v13"></path></svg>'},25:e=>{e.exports='<svg fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M15.75 10.125a.625.625 0 0 1 .625-.625h1.25a.625.625 0 0 1 .625.625v1.25a.624.624 0 0 1-.625.625h-1.25a.624.624 0 0 1-.625-.625v-1.25Zm-3.75 0a.625.625 0 0 1 .625-.625h1.25a.625.625 0 0 1 .625.625v1.25a.624.624 0 0 1-.625.625h-1.25a.624.624 0 0 1-.625-.625v-1.25Zm-6.25 3.75a.625.625 0 0 1 .625-.625h1.25a.625.625 0 0 1 .625.625v1.25a.625.625 0 0 1-.625.625h-1.25a.625.625 0 0 1-.625-.625v-1.25Zm3.75 0a.625.625 0 0 1 .625-.625h1.25a.624.624 0 0 1 .625.625v1.25a.624.624 0 0 1-.625.625h-1.25a.625.625 0 0 1-.625-.625v-1.25Z"></path><path d="M6.375 2A.625.625 0 0 1 7 2.625v.625h10v-.625a.625.625 0 1 1 1.25 0v.625h1.25a2.5 2.5 0 0 1 2.5 2.5V19.5a2.5 2.5 0 0 1-2.5 2.5h-15A2.5 2.5 0 0 1 2 19.5V5.75a2.5 2.5 0 0 1 2.5-2.5h1.25v-.625A.625.625 0 0 1 6.375 2ZM3.25 7v12.5a1.25 1.25 0 0 0 1.25 1.25h15a1.25 1.25 0 0 0 1.25-1.25V7H3.25Z"></path></svg>'},66:e=>{e.exports='<svg fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M15.75 10.125a.625.625 0 0 1 .625-.625h1.25a.625.625 0 0 1 .625.625v1.25a.624.624 0 0 1-.625.625h-1.25a.624.624 0 0 1-.625-.625v-1.25Z"></path><path d="M6.375 2A.625.625 0 0 1 7 2.625v.625h10v-.625a.625.625 0 1 1 1.25 0v.625h1.25a2.5 2.5 0 0 1 2.5 2.5V19.5a2.5 2.5 0 0 1-2.5 2.5h-15A2.5 2.5 0 0 1 2 19.5V5.75a2.5 2.5 0 0 1 2.5-2.5h1.25v-.625A.625.625 0 0 1 6.375 2ZM3.25 7v12.5a1.25 1.25 0 0 0 1.25 1.25h15a1.25 1.25 0 0 0 1.25-1.25V7H3.25Z"></path></svg>'}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";Math.pow(10,8);const e=6048e5,t=864e5,o=6e4,i=36e5,r=3600,a=60,s=24*r,c=7*s,d=365.2425*s,u=d/12,l=3*u;function f(e,t){const n=t?.additionalDigits??2,r=function(e){const t={},n=e.split(h.dateTimeDelimiter);let o;if(n.length>2)return t;if(/:/.test(n[0])?o=n[0]:(t.date=n[0],o=n[1],h.timeZoneDelimiter.test(t.date)&&(t.date=e.split(h.timeZoneDelimiter)[0],o=e.substr(t.date.length,e.length))),o){const e=h.timezone.exec(o);e?(t.time=o.replace(e[1],""),t.timezone=e[1]):t.time=o}return t}(e);let a;if(r.date){const e=function(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),o=e.match(n);if(!o)return{year:NaN,restDateString:""};const i=o[1]?parseInt(o[1]):null,r=o[2]?parseInt(o[2]):null;return{year:null===r?i:100*r,restDateString:e.slice((o[1]||o[2]).length)}}(r.date,n);a=function(e,t){if(null===t)return new Date(NaN);const n=e.match(g);if(!n)return new Date(NaN);const o=!!n[4],i=v(n[1]),r=v(n[2])-1,a=v(n[3]),s=v(n[4]),c=v(n[5])-1;if(o)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,s,c)?function(e,t,n){const o=new Date(0);o.setUTCFullYear(e,0,4);const i=7*(t-1)+n+1-(o.getUTCDay()||7);return o.setUTCDate(o.getUTCDate()+i),o}(t,s,c):new Date(NaN);{const e=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(y[t]||(w(e)?29:28))}(t,r,a)&&function(e,t){return t>=1&&t<=(w(e)?366:365)}(t,i)?(e.setUTCFullYear(t,r,Math.max(i,a)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const s=a.getTime();let c,d=0;if(r.time&&(d=function(e){const t=e.match(p);if(!t)return NaN;const n=b(t[1]),r=b(t[2]),a=b(t[3]);return function(e,t,n){return 24===e?0===t&&0===n:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,a)?n*i+r*o+1e3*a:NaN}(r.time),isNaN(d)))return new Date(NaN);if(!r.timezone){const e=new Date(s+d),t=new Date(0);return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t}return c=function(e){if("Z"===e)return 0;const t=e.match(m);if(!t)return 0;const n="+"===t[1]?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,a)?n*(r*i+a*o):NaN}(r.timezone),isNaN(c)?new Date(NaN):new Date(s+d+c)}const h={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},g=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,p=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,m=/^([+-])(\d{2})(?::?(\d{2}))?$/;function v(e){return e?parseInt(e):1}function b(e){return e&&parseFloat(e.replace(",","."))||0}const y=[31,null,31,30,31,30,31,31,30,31,30,31];function w(e){return e%400==0||e%4==0&&e%100!=0}var D=n(798),C=n.n(D);function E(e){const t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new e.constructor(+e):"number"==typeof e||"[object Number]"===t||"string"==typeof e||"[object String]"===t?new Date(e):new Date(NaN)}function M(e){const t=E(e);return t.setHours(0,0,0,0),t}function S(e){const t=E(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function x(e,n){const o=M(e),i=M(n),r=+o-S(o),a=+i-S(i);return Math.round((r-a)/t)}function k(e,t){const n=E(e),o=E(t),i=O(n,o),r=Math.abs(x(n,o));n.setDate(n.getDate()-i*r);const a=i*(r-Number(O(n,o)===-i));return 0===a?0:a}function O(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function T(e,t){const n=E(e),o=E(t);return 12*(n.getFullYear()-o.getFullYear())+(n.getMonth()-o.getMonth())}function I(e){const t=E(e);return Math.trunc(t.getMonth()/3)+1}function L(e,t){const n=E(e),o=E(t);return 4*(n.getFullYear()-o.getFullYear())+(I(n)-I(o))}let N={};function A(){return N}function F(e,t){const n=A(),o=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=E(e),r=i.getDay(),a=(r<o?7:0)+r-o;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function _(t,n,o){const i=F(t,o),r=F(n,o),a=+i-S(i),s=+r-S(r);return Math.round((a-s)/e)}function P(e,t){const n=E(e),o=E(t);return n.getFullYear()-o.getFullYear()}function R(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return 0===n?0:n}}function j(e,t){return+E(e)-+E(t)}function B(e,t,n){const o=j(e,t)/i;return R(n?.roundingMethod)(o)}function Y(e,t,n){const i=j(e,t)/o;return R(n?.roundingMethod)(i)}function H(e,t,n){const o=j(e,t)/1e3;return R(n?.roundingMethod)(o)}function $(e,t){return function(e,t,n){return+F(e,n)==+F(t,n)}(e,Date.now(),t)}const W={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function U(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Q={date:U({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:U({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:U({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},G={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function q(e){return(t,n)=>{let o;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,i=n?.width?String(n.width):t;o=e.formattingValues[i]||e.formattingValues[t]}else{const t=e.defaultWidth,i=n?.width?String(n.width):e.defaultWidth;o=e.values[i]||e.values[t]}return o[e.argumentCallback?e.argumentCallback(t):t]}}function J(e){return(t,n={})=>{const o=n.width,i=o&&e.matchPatterns[o]||e.matchPatterns[e.defaultMatchWidth],r=t.match(i);if(!r)return null;const a=r[0],s=o&&e.parsePatterns[o]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(s)?function(e,t){for(let t=0;t<e.length;t++)if(e[t].test(a))return t}(s):function(e,t){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t].test(a))return t}(s);let d;return d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d,{value:d,rest:t.slice(a.length)}}}var z;const K={code:"en-US",formatDistance:(e,t,n)=>{let o;const i=W[e];return o="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+o:o+" ago":o},formatLong:Q,formatRelative:(e,t,n,o)=>G[e],localize:{ordinalNumber:(e,t)=>{const n=Number(e),o=n%100;if(o>20||o<10)switch(o%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:q({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:q({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:q({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:q({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:q({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(z={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},(e,t={})=>{const n=e.match(z.matchPattern);if(!n)return null;const o=n[0],i=e.match(z.parsePattern);if(!i)return null;let r=z.valueCallback?z.valueCallback(i[0]):i[0];return r=t.valueCallback?t.valueCallback(r):r,{value:r,rest:e.slice(o.length)}}),era:J({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:J({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:J({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:J({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:J({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function Z(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function V(e){const t=E(e);return x(t,function(e){const t=E(e),n=Z(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}(t))+1}function X(e){return F(e,{weekStartsOn:1})}function ee(e){const t=E(e),n=t.getFullYear(),o=Z(e,0);o.setFullYear(n+1,0,4),o.setHours(0,0,0,0);const i=X(o),r=Z(e,0);r.setFullYear(n,0,4),r.setHours(0,0,0,0);const a=X(r);return t.getTime()>=i.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function te(t){const n=E(t),o=+X(n)-+function(e){const t=ee(e),n=Z(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),X(n)}(n);return Math.round(o/e)+1}function ne(e,t){const n=E(e),o=n.getFullYear(),i=A(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=Z(e,0);a.setFullYear(o+1,0,r),a.setHours(0,0,0,0);const s=F(a,t),c=Z(e,0);c.setFullYear(o,0,r),c.setHours(0,0,0,0);const d=F(c,t);return n.getTime()>=s.getTime()?o+1:n.getTime()>=d.getTime()?o:o-1}function oe(t,n){const o=E(t),i=+F(o,n)-+function(e,t){const n=A(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=ne(e,t),r=Z(e,0);return r.setFullYear(i,0,o),r.setHours(0,0,0,0),F(r,t)}(o,n);return Math.round(i/e)+1}function ie(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const re={y(e,t){const n=e.getFullYear(),o=n>0?n:1-n;return ie("yy"===t?o%100:o,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):ie(n+1,2)},d:(e,t)=>ie(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>ie(e.getHours()%12||12,t.length),H:(e,t)=>ie(e.getHours(),t.length),m:(e,t)=>ie(e.getMinutes(),t.length),s:(e,t)=>ie(e.getSeconds(),t.length),S(e,t){const n=t.length,o=e.getMilliseconds();return ie(Math.trunc(o*Math.pow(10,n-3)),t.length)}},ae={G:function(e,t,n){const o=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(o,{width:"abbreviated"});case"GGGGG":return n.era(o,{width:"narrow"});default:return n.era(o,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),o=t>0?t:1-t;return n.ordinalNumber(o,{unit:"year"})}return re.y(e,t)},Y:function(e,t,n,o){const i=ne(e,o),r=i>0?i:1-i;return"YY"===t?ie(r%100,2):"Yo"===t?n.ordinalNumber(r,{unit:"year"}):ie(r,t.length)},R:function(e,t){return ie(ee(e),t.length)},u:function(e,t){return ie(e.getFullYear(),t.length)},Q:function(e,t,n){const o=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(o);case"QQ":return ie(o,2);case"Qo":return n.ordinalNumber(o,{unit:"quarter"});case"QQQ":return n.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(o,{width:"narrow",context:"formatting"});default:return n.quarter(o,{width:"wide",context:"formatting"})}},q:function(e,t,n){const o=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(o);case"qq":return ie(o,2);case"qo":return n.ordinalNumber(o,{unit:"quarter"});case"qqq":return n.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(o,{width:"narrow",context:"standalone"});default:return n.quarter(o,{width:"wide",context:"standalone"})}},M:function(e,t,n){const o=e.getMonth();switch(t){case"M":case"MM":return re.M(e,t);case"Mo":return n.ordinalNumber(o+1,{unit:"month"});case"MMM":return n.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(o,{width:"narrow",context:"formatting"});default:return n.month(o,{width:"wide",context:"formatting"})}},L:function(e,t,n){const o=e.getMonth();switch(t){case"L":return String(o+1);case"LL":return ie(o+1,2);case"Lo":return n.ordinalNumber(o+1,{unit:"month"});case"LLL":return n.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(o,{width:"narrow",context:"standalone"});default:return n.month(o,{width:"wide",context:"standalone"})}},w:function(e,t,n,o){const i=oe(e,o);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):ie(i,t.length)},I:function(e,t,n){const o=te(e);return"Io"===t?n.ordinalNumber(o,{unit:"week"}):ie(o,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):re.d(e,t)},D:function(e,t,n){const o=V(e);return"Do"===t?n.ordinalNumber(o,{unit:"dayOfYear"}):ie(o,t.length)},E:function(e,t,n){const o=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},e:function(e,t,n,o){const i=e.getDay(),r=(i-o.weekStartsOn+8)%7||7;switch(t){case"e":return String(r);case"ee":return ie(r,2);case"eo":return n.ordinalNumber(r,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,o){const i=e.getDay(),r=(i-o.weekStartsOn+8)%7||7;switch(t){case"c":return String(r);case"cc":return ie(r,t.length);case"co":return n.ordinalNumber(r,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const o=e.getDay(),i=0===o?7:o;switch(t){case"i":return String(i);case"ii":return ie(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},a:function(e,t,n){const o=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,n){const o=e.getHours();let i;switch(i=12===o?"noon":0===o?"midnight":o/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const o=e.getHours();let i;switch(i=o>=17?"evening":o>=12?"afternoon":o>=4?"morning":"night",t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return re.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):re.H(e,t)},K:function(e,t,n){const o=e.getHours()%12;return"Ko"===t?n.ordinalNumber(o,{unit:"hour"}):ie(o,t.length)},k:function(e,t,n){let o=e.getHours();return 0===o&&(o=24),"ko"===t?n.ordinalNumber(o,{unit:"hour"}):ie(o,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):re.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):re.s(e,t)},S:function(e,t){return re.S(e,t)},X:function(e,t,n){const o=e.getTimezoneOffset();if(0===o)return"Z";switch(t){case"X":return ce(o);case"XXXX":case"XX":return de(o);default:return de(o,":")}},x:function(e,t,n){const o=e.getTimezoneOffset();switch(t){case"x":return ce(o);case"xxxx":case"xx":return de(o);default:return de(o,":")}},O:function(e,t,n){const o=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+se(o,":");default:return"GMT"+de(o,":")}},z:function(e,t,n){const o=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+se(o,":");default:return"GMT"+de(o,":")}},t:function(e,t,n){return ie(Math.trunc(e.getTime()/1e3),t.length)},T:function(e,t,n){return ie(e.getTime(),t.length)}};function se(e,t=""){const n=e>0?"-":"+",o=Math.abs(e),i=Math.trunc(o/60),r=o%60;return 0===r?n+String(i):n+String(i)+t+ie(r,2)}function ce(e,t){return e%60==0?(e>0?"-":"+")+ie(Math.abs(e)/60,2):de(e,t)}function de(e,t=""){const n=e>0?"-":"+",o=Math.abs(e);return n+ie(Math.trunc(o/60),2)+t+ie(o%60,2)}const ue=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},le=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},fe={p:le,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],o=n[1],i=n[2];if(!i)return ue(e,t);let r;switch(o){case"P":r=t.dateTime({width:"short"});break;case"PP":r=t.dateTime({width:"medium"});break;case"PPP":r=t.dateTime({width:"long"});break;default:r=t.dateTime({width:"full"})}return r.replace("{{date}}",ue(o,t)).replace("{{time}}",le(i,t))}},he=/^D+$/,ge=/^Y+$/,pe=["D","DD","YY","YYYY"];function me(e){if(!(t=e,t instanceof Date||"object"==typeof t&&"[object Date]"===Object.prototype.toString.call(t)||"number"==typeof e))return!1;var t;const n=E(e);return!isNaN(Number(n))}const ve=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,be=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ye=/^'([^]*?)'?$/,we=/''/g,De=/[a-zA-Z]/;function Ce(e,t,n){const o=A(),i=n?.locale??o.locale??K,r=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0,s=E(e);if(!me(s))throw new RangeError("Invalid time value");let c=t.match(be).map((e=>{const t=e[0];return"p"===t||"P"===t?(0,fe[t])(e,i.formatLong):e})).join("").match(ve).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:Ee(e)};if(ae[t])return{isToken:!0,value:e};if(t.match(De))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));i.localize.preprocessor&&(c=i.localize.preprocessor(s,c));const d={firstWeekContainsDate:r,weekStartsOn:a,locale:i};return c.map((o=>{if(!o.isToken)return o.value;const r=o.value;return(!n?.useAdditionalWeekYearTokens&&function(e){return ge.test(e)}(r)||!n?.useAdditionalDayOfYearTokens&&function(e){return he.test(e)}(r))&&function(e,t,n){const o=function(e,t,n){const o="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${o} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(console.warn(o),pe.includes(e))throw new RangeError(o)}(r,t,String(e)),(0,ae[r[0]])(s,r,i.localize,d)})).join("")}function Ee(e){const t=e.match(ye);return t?t[1].replace(we,"'"):e}function Me(e){return function(e,t){const n=E(e),o=E(t);return n.getFullYear()===o.getFullYear()&&n.getMonth()===o.getMonth()}(Date.now(),e)}function Se(e,t){return+E(e)==+E(t)}function xe(e){return e.charAt(0).toUpperCase()+e.slice(1)}function ke(e){return e.charAt(0).toLowerCase()+e.slice(1)}function Oe(e){return e?k(f(e),new Date)<1?function(e,t,n){let o,i=0;const f=E(e),h=E(t);if(n?.unit)o=n?.unit,"second"===o?i=H(f,h):"minute"===o?i=Y(f,h):"hour"===o?i=B(f,h):"day"===o?i=x(f,h):"week"===o?i=_(f,h):"month"===o?i=T(f,h):"quarter"===o?i=L(f,h):"year"===o&&(i=P(f,h));else{const e=H(f,h);Math.abs(e)<a?(i=H(f,h),o="second"):Math.abs(e)<r?(i=Y(f,h),o="minute"):Math.abs(e)<s&&Math.abs(x(f,h))<1?(i=B(f,h),o="hour"):Math.abs(e)<c&&(i=x(f,h))&&Math.abs(i)<7?o="day":Math.abs(e)<u?(i=_(f,h),o="week"):Math.abs(e)<l?(i=T(f,h),o="month"):Math.abs(e)<d&&L(f,h)<4?(i=L(f,h),o="quarter"):(i=P(f,h),o="year")}return new Intl.RelativeTimeFormat(n?.locale,{localeMatcher:n?.localeMatcher,numeric:n?.numeric||"auto",style:n?.style}).format(i,o)}(f(e),new Date,{unit:"day"}):k(f(e),new Date)>=1&&$(f(e),{weekStartsOn:1})?ke(Ce(f(e),"EEEE")):k(f(e),new Date)>=1&&!$(f(e),{weekStartsOn:1})&&Me(f(e))?ke(Ce(f(e),"E d")):Me(f(e))?e:Ce(f(e),"d MMM"):""}function Te(e,t){if(!e||!t)return!1;const n=new Date;return n.setHours(0,0,0,0),"overdue"===e?t<n:"today"===e?Se(t,n):"this-week"===e&&(Se(t,n)||+E(t)>Date.now())&&k(t,n)<=7}function Ie(e,t){const n=f(e.get("dueDate"));e.get("dueDate")&&Te("today",n)&&t(e,"today"),e.get("dueDate")&&Te("this-week",n)&&t(e,"this-week"),e.get("categoryID")&&t(e,e.get("categoryID")),t(e,"all-todos")}function Le(e){return Array.isArray?Array.isArray(e):"[object Array]"===Re(e)}function Ne(e){return"string"==typeof e}function Ae(e){return"number"==typeof e}function Fe(e){return"object"==typeof e}function _e(e){return null!=e}function Pe(e){return!e.trim().length}function Re(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const je=e=>`Missing ${e} property in key`,Be=e=>`Property 'weight' in key '${e}' must be a positive integer`,Ye=Object.prototype.hasOwnProperty;class He{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach((e=>{let n=$e(e);this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight})),this._keys.forEach((e=>{e.weight/=t}))}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function $e(e){let t=null,n=null,o=null,i=1,r=null;if(Ne(e)||Le(e))o=e,t=We(e),n=Ue(e);else{if(!Ye.call(e,"name"))throw new Error(je("name"));const a=e.name;if(o=a,Ye.call(e,"weight")&&(i=e.weight,i<=0))throw new Error(Be(a));t=We(a),n=Ue(a),r=e.getFn}return{path:t,id:n,weight:i,src:o,getFn:r}}function We(e){return Le(e)?e:e.split(".")}function Ue(e){return Le(e)?e.join("."):e}var Qe={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,useExtendedSearch:!1,getFn:function(e,t){let n=[],o=!1;const i=(e,t,r)=>{if(_e(e))if(t[r]){const a=e[t[r]];if(!_e(a))return;if(r===t.length-1&&(Ne(a)||Ae(a)||function(e){return!0===e||!1===e||function(e){return Fe(e)&&null!==e}(e)&&"[object Boolean]"==Re(e)}(a)))n.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(a));else if(Le(a)){o=!0;for(let e=0,n=a.length;e<n;e+=1)i(a[e],t,r+1)}else t.length&&i(a,t,r+1)}else n.push(e)};return i(e,Ne(t)?t.split("."):t,0),o?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};const Ge=/[^ ]+/g;class qe{constructor({getFn:e=Qe.getFn,fieldNormWeight:t=Qe.fieldNormWeight}={}){this.norm=function(e=1,t=3){const n=new Map,o=Math.pow(10,t);return{get(t){const i=t.match(Ge).length;if(n.has(i))return n.get(i);const r=1/Math.pow(i,.5*e),a=parseFloat(Math.round(r*o)/o);return n.set(i,a),a},clear(){n.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach(((e,t)=>{this._keysMap[e.id]=t}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,Ne(this.docs[0])?this.docs.forEach(((e,t)=>{this._addString(e,t)})):this.docs.forEach(((e,t)=>{this._addObject(e,t)})),this.norm.clear())}add(e){const t=this.size();Ne(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!_e(e)||Pe(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach(((t,o)=>{let i=t.getFn?t.getFn(e):this.getFn(e,t.path);if(_e(i))if(Le(i)){let e=[];const t=[{nestedArrIndex:-1,value:i}];for(;t.length;){const{nestedArrIndex:n,value:o}=t.pop();if(_e(o))if(Ne(o)&&!Pe(o)){let t={v:o,i:n,n:this.norm.get(o)};e.push(t)}else Le(o)&&o.forEach(((e,n)=>{t.push({nestedArrIndex:n,value:e})}))}n.$[o]=e}else if(Ne(i)&&!Pe(i)){let e={v:i,n:this.norm.get(i)};n.$[o]=e}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function Je(e,t,{getFn:n=Qe.getFn,fieldNormWeight:o=Qe.fieldNormWeight}={}){const i=new qe({getFn:n,fieldNormWeight:o});return i.setKeys(e.map($e)),i.setSources(t),i.create(),i}function ze(e,{errors:t=0,currentLocation:n=0,expectedLocation:o=0,distance:i=Qe.distance,ignoreLocation:r=Qe.ignoreLocation}={}){const a=t/e.length;if(r)return a;const s=Math.abs(o-n);return i?a+s/i:s?1:a}const Ke=32;function Ze(e){let t={};for(let n=0,o=e.length;n<o;n+=1){const i=e.charAt(n);t[i]=(t[i]||0)|1<<o-n-1}return t}class Ve{constructor(e,{location:t=Qe.location,threshold:n=Qe.threshold,distance:o=Qe.distance,includeMatches:i=Qe.includeMatches,findAllMatches:r=Qe.findAllMatches,minMatchCharLength:a=Qe.minMatchCharLength,isCaseSensitive:s=Qe.isCaseSensitive,ignoreLocation:c=Qe.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:o,includeMatches:i,findAllMatches:r,minMatchCharLength:a,isCaseSensitive:s,ignoreLocation:c},this.pattern=s?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const d=(e,t)=>{this.chunks.push({pattern:e,alphabet:Ze(e),startIndex:t})},u=this.pattern.length;if(u>Ke){let e=0;const t=u%Ke,n=u-t;for(;e<n;)d(this.pattern.substr(e,Ke),e),e+=Ke;if(t){const e=u-Ke;d(this.pattern.substr(e),e)}}else d(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:n}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let t={isMatch:!0,score:0};return n&&(t.indices=[[0,e.length-1]]),t}const{location:o,distance:i,threshold:r,findAllMatches:a,minMatchCharLength:s,ignoreLocation:c}=this.options;let d=[],u=0,l=!1;this.chunks.forEach((({pattern:t,alphabet:f,startIndex:h})=>{const{isMatch:g,score:p,indices:m}=function(e,t,n,{location:o=Qe.location,distance:i=Qe.distance,threshold:r=Qe.threshold,findAllMatches:a=Qe.findAllMatches,minMatchCharLength:s=Qe.minMatchCharLength,includeMatches:c=Qe.includeMatches,ignoreLocation:d=Qe.ignoreLocation}={}){if(t.length>Ke)throw new Error("Pattern length exceeds max of 32.");const u=t.length,l=e.length,f=Math.max(0,Math.min(o,l));let h=r,g=f;const p=s>1||c,m=p?Array(l):[];let v;for(;(v=e.indexOf(t,g))>-1;){let e=ze(t,{currentLocation:v,expectedLocation:f,distance:i,ignoreLocation:d});if(h=Math.min(e,h),g=v+u,p){let e=0;for(;e<u;)m[v+e]=1,e+=1}}g=-1;let b=[],y=1,w=u+l;const D=1<<u-1;for(let o=0;o<u;o+=1){let r=0,s=w;for(;r<s;)ze(t,{errors:o,currentLocation:f+s,expectedLocation:f,distance:i,ignoreLocation:d})<=h?r=s:w=s,s=Math.floor((w-r)/2+r);w=s;let c=Math.max(1,f-s+1),v=a?l:Math.min(f+s,l)+u,C=Array(v+2);C[v+1]=(1<<o)-1;for(let r=v;r>=c;r-=1){let a=r-1,s=n[e.charAt(a)];if(p&&(m[a]=+!!s),C[r]=(C[r+1]<<1|1)&s,o&&(C[r]|=(b[r+1]|b[r])<<1|1|b[r+1]),C[r]&D&&(y=ze(t,{errors:o,currentLocation:a,expectedLocation:f,distance:i,ignoreLocation:d}),y<=h)){if(h=y,g=a,g<=f)break;c=Math.max(1,2*f-g)}}if(ze(t,{errors:o+1,currentLocation:f,expectedLocation:f,distance:i,ignoreLocation:d})>h)break;b=C}const C={isMatch:g>=0,score:Math.max(.001,y)};if(p){const e=function(e=[],t=Qe.minMatchCharLength){let n=[],o=-1,i=-1,r=0;for(let a=e.length;r<a;r+=1){let a=e[r];a&&-1===o?o=r:a||-1===o||(i=r-1,i-o+1>=t&&n.push([o,i]),o=-1)}return e[r-1]&&r-o>=t&&n.push([o,r-1]),n}(m,s);e.length?c&&(C.indices=e):C.isMatch=!1}return C}(e,t,f,{location:o+h,distance:i,threshold:r,findAllMatches:a,minMatchCharLength:s,includeMatches:n,ignoreLocation:c});g&&(l=!0),u+=p,g&&m&&(d=[...d,...m])}));let f={isMatch:l,score:l?u/this.chunks.length:1};return l&&n&&(f.indices=d),f}}class Xe{constructor(e){this.pattern=e}static isMultiMatch(e){return et(e,this.multiRegex)}static isSingleMatch(e){return et(e,this.singleRegex)}search(){}}function et(e,t){const n=e.match(t);return n?n[1]:null}class tt extends Xe{constructor(e,{location:t=Qe.location,threshold:n=Qe.threshold,distance:o=Qe.distance,includeMatches:i=Qe.includeMatches,findAllMatches:r=Qe.findAllMatches,minMatchCharLength:a=Qe.minMatchCharLength,isCaseSensitive:s=Qe.isCaseSensitive,ignoreLocation:c=Qe.ignoreLocation}={}){super(e),this._bitapSearch=new Ve(e,{location:t,threshold:n,distance:o,includeMatches:i,findAllMatches:r,minMatchCharLength:a,isCaseSensitive:s,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class nt extends Xe{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,n=0;const o=[],i=this.pattern.length;for(;(t=e.indexOf(this.pattern,n))>-1;)n=t+i,o.push([t,n-1]);const r=!!o.length;return{isMatch:r,score:r?0:1,indices:o}}}const ot=[class extends Xe{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},nt,class extends Xe{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},class extends Xe{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends Xe{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends Xe{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},class extends Xe{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},tt],it=ot.length,rt=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,at=new Set([tt.type,nt.type]);const st=[];function ct(e,t){for(let n=0,o=st.length;n<o;n+=1){let o=st[n];if(o.condition(e,t))return new o(e,t)}return new Ve(e,t)}const dt="$and",ut="$path",lt=e=>!(!e[dt]&&!e.$or),ft=e=>({[dt]:Object.keys(e).map((t=>({[t]:e[t]})))});function ht(e,t,{auto:n=!0}={}){const o=e=>{let i=Object.keys(e);const r=(e=>!!e[ut])(e);if(!r&&i.length>1&&!lt(e))return o(ft(e));if((e=>!Le(e)&&Fe(e)&&!lt(e))(e)){const o=r?e[ut]:i[0],a=r?e.$val:e[o];if(!Ne(a))throw new Error((e=>`Invalid value for key ${e}`)(o));const s={keyId:Ue(o),pattern:a};return n&&(s.searcher=ct(a,t)),s}let a={children:[],operator:i[0]};return i.forEach((t=>{const n=e[t];Le(n)&&n.forEach((e=>{a.children.push(o(e))}))})),a};return lt(e)||(e=ft(e)),o(e)}function gt(e,t){const n=e.matches;t.matches=[],_e(n)&&n.forEach((e=>{if(!_e(e.indices)||!e.indices.length)return;const{indices:n,value:o}=e;let i={indices:n,value:o};e.key&&(i.key=e.key.src),e.idx>-1&&(i.refIndex=e.idx),t.matches.push(i)}))}function pt(e,t){t.score=e.score}class mt{constructor(e,t={},n){this.options={...Qe,...t},this.options.useExtendedSearch,this._keyStore=new He(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof qe))throw new Error("Incorrect 'index' type");this._myIndex=t||Je(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){_e(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=(()=>!1)){const t=[];for(let n=0,o=this._docs.length;n<o;n+=1){const i=this._docs[n];e(i,n)&&(this.removeAt(n),n-=1,o-=1,t.push(i))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:o,shouldSort:i,sortFn:r,ignoreFieldNorm:a}=this.options;let s=Ne(e)?Ne(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,{ignoreFieldNorm:t=Qe.ignoreFieldNorm}){e.forEach((e=>{let n=1;e.matches.forEach((({key:e,norm:o,score:i})=>{const r=e?e.weight:null;n*=Math.pow(0===i&&r?Number.EPSILON:i,(r||1)*(t?1:o))})),e.score=n}))}(s,{ignoreFieldNorm:a}),i&&s.sort(r),Ae(t)&&t>-1&&(s=s.slice(0,t)),function(e,t,{includeMatches:n=Qe.includeMatches,includeScore:o=Qe.includeScore}={}){const i=[];return n&&i.push(gt),o&&i.push(pt),e.map((e=>{const{idx:n}=e,o={item:t[n],refIndex:n};return i.length&&i.forEach((t=>{t(e,o)})),o}))}(s,this._docs,{includeMatches:n,includeScore:o})}_searchStringList(e){const t=ct(e,this.options),{records:n}=this._myIndex,o=[];return n.forEach((({v:e,i:n,n:i})=>{if(!_e(e))return;const{isMatch:r,score:a,indices:s}=t.searchIn(e);r&&o.push({item:e,idx:n,matches:[{score:a,value:e,norm:i,indices:s}]})})),o}_searchLogical(e){const t=ht(e,this.options),n=(e,t,o)=>{if(!e.children){const{keyId:n,searcher:i}=e,r=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:i});return r&&r.length?[{idx:o,item:t,matches:r}]:[]}const i=[];for(let r=0,a=e.children.length;r<a;r+=1){const a=e.children[r],s=n(a,t,o);if(s.length)i.push(...s);else if(e.operator===dt)return[]}return i},o=this._myIndex.records,i={},r=[];return o.forEach((({$:e,i:o})=>{if(_e(e)){let a=n(t,e,o);a.length&&(i[o]||(i[o]={idx:o,item:e,matches:[]},r.push(i[o])),a.forEach((({matches:e})=>{i[o].matches.push(...e)})))}})),r}_searchObjectList(e){const t=ct(e,this.options),{keys:n,records:o}=this._myIndex,i=[];return o.forEach((({$:e,i:o})=>{if(!_e(e))return;let r=[];n.forEach(((n,o)=>{r.push(...this._findMatches({key:n,value:e[o],searcher:t}))})),r.length&&i.push({idx:o,item:e,matches:r})})),i}_findMatches({key:e,value:t,searcher:n}){if(!_e(t))return[];let o=[];if(Le(t))t.forEach((({v:t,i,n:r})=>{if(!_e(t))return;const{isMatch:a,score:s,indices:c}=n.searchIn(t);a&&o.push({score:s,key:e,value:t,idx:i,norm:r,indices:c})}));else{const{v:i,n:r}=t,{isMatch:a,score:s,indices:c}=n.searchIn(i);a&&o.push({score:s,key:e,value:i,norm:r,indices:c})}return o}}mt.version="7.0.0",mt.createIndex=Je,mt.parseIndex=function(e,{getFn:t=Qe.getFn,fieldNormWeight:n=Qe.fieldNormWeight}={}){const{keys:o,records:i}=e,r=new qe({getFn:t,fieldNormWeight:n});return r.setKeys(o),r.setIndexRecords(i),r},mt.config=Qe,mt.parseQuery=ht,function(...e){st.push(...e)}(class{constructor(e,{isCaseSensitive:t=Qe.isCaseSensitive,includeMatches:n=Qe.includeMatches,minMatchCharLength:o=Qe.minMatchCharLength,ignoreLocation:i=Qe.ignoreLocation,findAllMatches:r=Qe.findAllMatches,location:a=Qe.location,threshold:s=Qe.threshold,distance:c=Qe.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:n,minMatchCharLength:o,findAllMatches:r,ignoreLocation:i,location:a,threshold:s,distance:c},this.pattern=t?e:e.toLowerCase(),this.query=function(e,t={}){return e.split("|").map((e=>{let n=e.trim().split(rt).filter((e=>e&&!!e.trim())),o=[];for(let e=0,i=n.length;e<i;e+=1){const i=n[e];let r=!1,a=-1;for(;!r&&++a<it;){const e=ot[a];let n=e.isMultiMatch(i);n&&(o.push(new e(n,t)),r=!0)}if(!r)for(a=-1;++a<it;){const e=ot[a];let n=e.isSingleMatch(i);if(n){o.push(new e(n,t));break}}}return o}))}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:o}=this.options;e=o?e:e.toLowerCase();let i=0,r=[],a=0;for(let o=0,s=t.length;o<s;o+=1){const s=t[o];r.length=0,i=0;for(let t=0,o=s.length;t<o;t+=1){const o=s[t],{isMatch:c,indices:d,score:u}=o.search(e);if(!c){a=0,i=0,r.length=0;break}if(i+=1,a+=u,n){const e=o.constructor.type;at.has(e)?r=[...r,...d]:r.push(d)}}if(i){let e={isMatch:!0,score:a/i};return n&&(e.indices=r),e}}return{isMatch:!1,score:1}}});const vt={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let bt;const yt=new Uint8Array(16);function wt(){if(!bt&&(bt="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!bt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return bt(yt)}const Dt=[];for(let e=0;e<256;++e)Dt.push((e+256).toString(16).slice(1));const Ct=function(e,t,n){if(vt.randomUUID&&!t&&!e)return vt.randomUUID();const o=(e=e||{}).random||(e.rng||wt)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=o[e];return t}return function(e,t=0){return Dt[e[t+0]]+Dt[e[t+1]]+Dt[e[t+2]]+Dt[e[t+3]]+"-"+Dt[e[t+4]]+Dt[e[t+5]]+"-"+Dt[e[t+6]]+Dt[e[t+7]]+"-"+Dt[e[t+8]]+Dt[e[t+9]]+"-"+Dt[e[t+10]]+Dt[e[t+11]]+Dt[e[t+12]]+Dt[e[t+13]]+Dt[e[t+14]]+Dt[e[t+15]]}(o)},Et={"creation-date":function(){return(e,t)=>{const n=Number(e.get("filteredOut")),o=Number(t.get("filteredOut")),i=new Date(e.get("creationDate")),r=new Date(t.get("creationDate"));return n-o||i-r}},name:function(){return(e,t)=>Number(e.get("filteredOut"))-Number(t.get("filteredOut"))||e.get("title").localeCompare(t.get("title"))},"due-date":function(){return(e,t)=>{const n=Number(e.get("filteredOut")),o=Number(t.get("filteredOut")),i=e.get("dueDate")?new Date(e.get("dueDate")):1/0,r=t.get("dueDate")?new Date(t.get("dueDate")):1/0;return n-o||i-r}},priority:function(){return(e,t)=>{const n=Number(e.get("filteredOut")),o=Number(t.get("filteredOut")),i=e.get("priority")?e.get("priority"):1/0,r=t.get("priority")?t.get("priority"):1/0;return n-o||i-r}}},Mt={"no-filter":function(){return e=>void 0===e.get("title")},"priority-one":function(){return e=>1!==Number(e.get("priority"))},"priority-two":function(){return e=>2!==Number(e.get("priority"))},"priority-three":function(){return e=>3!==Number(e.get("priority"))},completed:function(){return e=>!1===e.get("completedStatus")},uncompleted:function(){return e=>!0===e.get("completedStatus")}},St={isEditable(){return this.editable},getID(){return this.id},getTodos(){return this.todos},addTodo(e){this.todos.push(e)},removeTodo(e){this.todos=this.todos.filter((t=>t!==e))},getName(){return this.name},setSortingMethod(e){this.sortingMethod=e},getCurrentSortingMethod(){return this.sortingMethod},sort(){this.todos.sort(Et[this.sortingMethod]()),this.updateIndexOfTodos()},setFilterMethod(e){this.filterMethod=e},getCurrentFilterMethod(){return this.filterMethod},filter(){this.todos.forEach((e=>e.set("filteredOut",!1))),this.filteredOutTodos=[],this.filteredOutTodos=this.todos.filter(Mt[this.filterMethod]()),this.filteredOutTodos.forEach((e=>e.set("filteredOut",!0)))},updateIndexOfTodos(){this.todos.forEach((e=>e.set("index",this.todos.indexOf(e))))}},xt={setName(e){this.name=e},getCreationDate(){return this.creationDate}};function kt(e,t){const n=Object.create(St);return n.id=t,n.name=e,n.todos=[],n.filteredOutTodos=[],n.sortingMethod="creation-date",n.filterMethod="no-filter",n.editable=!1,n}function Ot(e){const t=kt(e);t.id=Ct(),t.editable=!0,t.creationDate=(new Date).getTime();const n={...St,...xt};return Object.setPrototypeOf(t,n),t}const Tt=["id","creationDate"],It={get(e){return this[e]},set(e,t){Tt.find((t=>t===e))||(this[e]=t)},hasAdditionalInfo(){return this.description||this.priority||this.dueDate||this.categoryID},toggleCompletedStatus(){this.completedStatus=!this.completedStatus}};function Lt(e,t,n,o,i,r,a){const s=Object.create(It);return s.index=null,s.filteredOut=!1,s.id=Ct(),s.title=e||"",s.description=t||"",s.priority=n||"",s.dueDate=o||"",s.miniDueDate=i||"",s.categoryID=r||"",s.categoryName=a||"",s.completedStatus=!1,s.creationDate=new Date,s.overdueStatus=!1,s}function Nt(){try{const e="__storage__test";return window.localStorage.setItem(e,null),window.localStorage.removeItem(e),!0}catch(e){return!1}}const At=[kt("All todos","all-todos"),kt("Today","today"),kt("Next 7 days","this-week")],Ft=[];function _t(){return Ft}function Pt(e){return At.concat(Ft).find((t=>t.getID()===e))}function Rt(e){return Ft.find((t=>t.getID()===e))}function jt(e){return Pt(e).getTodos()}function Bt(e,t){return jt(e).find((e=>e.get("id")===t))}function Yt(e,t,n){e.set(t,n),Nt()&&function(e,t,n){const o=JSON.parse(localStorage.getItem(`todo-${e}`));o[t]=n,localStorage.setItem(`todo-${e}`,JSON.stringify(o))}(e.get("id"),t,n)}function Ht(e,t){Rt(t).removeTodo(e),e.set("categoryID",""),e.set("categoryName",""),Nt()&&function(e){const t=JSON.parse(localStorage.getItem(`todo-${e}`));t.categoryID="",t.categoryName="",localStorage.setItem(`todo-${e}`,JSON.stringify(t))}(e.get("id"))}function $t(e){const t=Pt(e);t.filter(),t.sort()}function Wt(e){return At[0].getTodos().find((t=>t.get("id")===e))}function Ut(e,t){Pt(t).addTodo(e),Nt()&&function(e,t){localStorage.setItem(`todo-${t}`,JSON.stringify(e))}(e,e.get("id"))}var Qt=n(12),Gt=n.n(Qt),qt=n(171),Jt=n.n(qt),zt=n(146),Kt=n.n(zt),Zt=n(66),Vt=n.n(Zt),Xt=n(25),en=n.n(Xt),tn=n(770),nn=n.n(tn),on=n(652),rn=n.n(on),an=n(536),sn=n.n(an),cn=n(172),dn=n.n(cn),un=n(773),ln=n.n(un),fn=n(350),hn=n.n(fn),gn=n(500),pn=n.n(gn),mn=n(631),vn=n.n(mn);const bn={add:Gt(),search:Jt(),"all-todos":Kt(),today:Vt(),"this-week":en(),settings:nn(),category:rn(),expander:sn(),close:dn(),sort:ln(),filter:hn(),edit:pn(),menu:vn()};function yn(e,t){const n=document.createElement(e);return n.classList.add(t),n}function wn(e,t){const n=document.createElement(e);return n.id=t,n}function Dn(e,t,n){const o=yn("button","named-button");if(n&&(o.id=n),t){const n=yn("span","icon");n.innerHTML=t,o.appendChild(n);const i=yn("span","button-name");return i.textContent=e,o.appendChild(i),o}return o.textContent=e,o}function Cn(e,t,n){const o=yn("button","icon-button");return o.innerHTML=t,o.setAttribute("aria-label",e),n&&(o.id=n),o}function En(e){const t=Cn(e,bn.expander);return t.classList.add("expand-button"),t}function Mn(e){const t=yn("div","settings-container"),n=Cn(e,bn.settings);return n.classList.add("settings-button"),t.appendChild(n),t}function Sn(e,t,n){const o=document.createElement("li"),i=Dn(e);return n&&(i.dataset.id=n),t&&i.classList.add(t),"Delete"===e&&i.classList.add("delete"),o.appendChild(i),o}function xn(e,t,n,o,...i){const r=yn("div","input-container");r.classList.add(t);const[a]=i,s=document.createElement("label");s.textContent=e,s.setAttribute("for",n),r.appendChild(s);const c=wn("input",n);return c.setAttribute("type",o),c.setAttribute("name",e),c.setAttribute("autocomplete","off"),c.setAttribute("spellcheck","false"),c.setAttribute("autocapitalize","off"),a&&Object.entries(a).forEach((e=>{c.setAttribute(`${e[0]}`,`${e[1]}`)})),r.appendChild(c),r}function kn(e){const t=Cn(e,bn.add);return t.classList.add("add-button"),t}function On(e,t,n,...o){const i=yn("div","input-container");i.classList.add(t);const[r]=o,a=document.createElement("label");a.textContent=e,a.setAttribute("for",n),i.appendChild(a);const s=wn("textarea",n);return s.setAttribute("name",e),s.setAttribute("autocomplete","off"),s.setAttribute("spellcheck","false"),s.setAttribute("autocapitalize","off"),r&&Object.entries(r).forEach((e=>{s.setAttribute(`${e[0]}`,`${e[1]}`)})),i.appendChild(s),i}function Tn(e,t,n,o){const i=yn("div",`${t}-container`),r=wn("input",e);r.setAttribute("type","checkbox"),r.setAttribute("name",t),r.setAttribute("value",n),i.appendChild(r);const a=document.createElement("label");return a.setAttribute("for",e),a.textContent=o,i.appendChild(a),i}function In(e,t){const n=Cn(e,bn.close);return n.classList.add(t),n.setAttribute("type","button"),n}const Ln={body:document.querySelector("body"),modal:function(){const e=wn("div","modal");return e.setAttribute("aria-modal","true"),e.setAttribute("role","dialog"),e}(),header:function(e){const t=document.createElement("header"),n=wn("div","header-top-side");t.appendChild(n);const o=wn("h1","app-title");return o.textContent="Do It",n.appendChild(o),t}(),headerOverlay:yn("div","header-overlay"),menuButton:Cn("Hide menu",bn.menu,"menu-button"),nav:document.createElement("nav"),devNavbar:wn("div","dev-nav"),devNavbarList:wn("ul","dev-nav-list"),addTodoButton:function(){const e=document.createElement("li"),t=Dn("Add todo",bn.add,"add-todo");return t.setAttribute("aria-label","Add todo"),e.appendChild(t),e}(),searchButton:function(){const e=document.createElement("li"),t=Dn("Search",bn.search,"search");return t.setAttribute("aria-label","Search todos"),e.appendChild(t),e}(),userNavbar:function(){const e=wn("div","user-nav"),t=wn("div","user-nav-header");e.appendChild(t);const n=wn("h2","user-nav-title");n.textContent="Categories",t.appendChild(n);const o=wn("div","categories-counter");return t.appendChild(o),e}(),addCategoryButton:kn("Add category"),expandCategoriesButton:En("Hide user categories"),userNavbarList:wn("ul","user-nav-list"),main:document.createElement("main"),contentHeader:function(){const e=yn("div","content-header-container"),t=yn("header","content-header");return e.appendChild(t),e}(),contentTitle:yn("h2","content-title"),contentSettings:yn("div","content-settings"),sortSetting:function(){const e=yn("div","customize-settings-container"),t=Cn("Sort todos",bn.sort);return t.classList.add("sort-category-button"),e.appendChild(t),e}(),filterSetting:function(){const e=yn("div","customize-settings-container"),t=Cn("Filter todos",bn.filter);return t.classList.add("filter-category-button"),e.appendChild(t),e}(),content:yn("div","content"),contentAddButton:kn("Add todo"),footer:document.createElement("footer"),mobileVersion:window.matchMedia("(max-width: 750px), (max-height: 400px)")},Nn={};var An=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Fn=An.join(","),_n="undefined"==typeof Element,Pn=_n?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Rn=!_n&&Element.prototype.getRootNode?function(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},jn=function e(t,n){var o;void 0===n&&(n=!0);var i=null==t||null===(o=t.getAttribute)||void 0===o?void 0:o.call(t,"inert");return""===i||"true"===i||n&&t&&e(t.parentNode)},Bn=function(e,t,n){if(jn(e))return[];var o=Array.prototype.slice.apply(e.querySelectorAll(Fn));return t&&Pn.call(e,Fn)&&o.unshift(e),o.filter(n)},Yn=function e(t,n,o){for(var i=[],r=Array.from(t);r.length;){var a=r.shift();if(!jn(a,!1))if("SLOT"===a.tagName){var s=a.assignedElements(),c=e(s.length?s:a.children,!0,o);o.flatten?i.push.apply(i,c):i.push({scopeParent:a,candidates:c})}else{Pn.call(a,Fn)&&o.filter(a)&&(n||!t.includes(a))&&i.push(a);var d=a.shadowRoot||"function"==typeof o.getShadowRoot&&o.getShadowRoot(a),u=!jn(d,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(a));if(d&&u){var l=e(!0===d?a.children:d.children,!0,o);o.flatten?i.push.apply(i,l):i.push({scopeParent:a,candidates:l})}else r.unshift.apply(r,a.children)}}return i},Hn=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},$n=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,n=null==e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===n||"true"===n}(e))&&!Hn(e)?0:e.tabIndex},Wn=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},Un=function(e){return"INPUT"===e.tagName},Qn=function(e){var t=e.getBoundingClientRect(),n=t.width,o=t.height;return 0===n&&0===o},Gn=function(e,t){return!(t.disabled||jn(t)||function(e){return Un(e)&&"hidden"===e.type}(t)||function(e,t){var n=t.displayCheck,o=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var i=Pn.call(e,"details>summary:first-of-type")?e.parentElement:e;if(Pn.call(i,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return Qn(e)}else{if("function"==typeof o){for(var r=e;e;){var a=e.parentElement,s=Rn(e);if(a&&!a.shadowRoot&&!0===o(a))return Qn(e);e=e.assignedSlot?e.assignedSlot:a||s===e.ownerDocument?a:s.host}e=r}if(function(e){var t,n,o,i,r=e&&Rn(e),a=null===(t=r)||void 0===t?void 0:t.host,s=!1;if(r&&r!==e)for(s=!!(null!==(n=a)&&void 0!==n&&null!==(o=n.ownerDocument)&&void 0!==o&&o.contains(a)||null!=e&&null!==(i=e.ownerDocument)&&void 0!==i&&i.contains(e));!s&&a;){var c,d,u;s=!(null===(d=a=null===(c=r=Rn(a))||void 0===c?void 0:c.host)||void 0===d||null===(u=d.ownerDocument)||void 0===u||!u.contains(a))}return s}(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1}(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var o=t.children.item(n);if("LEGEND"===o.tagName)return!!Pn.call(t,"fieldset[disabled] *")||!o.contains(e)}return!0}t=t.parentElement}return!1}(t))},qn=function(e,t){return!(function(e){return function(e){return Un(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||Rn(e),o=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=o(window.CSS.escape(e.name));else try{t=o(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var i=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!i||i===e}(e)}(t)||$n(t)<0||!Gn(e,t))},Jn=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},zn=function e(t){var n=[],o=[];return t.forEach((function(t,i){var r=!!t.scopeParent,a=r?t.scopeParent:t,s=function(e,t){var n=$n(e);return n<0&&t&&!Hn(e)?0:n}(a,r),c=r?e(t.candidates):a;0===s?r?n.push.apply(n,c):n.push(a):o.push({documentOrder:i,tabIndex:s,item:t,isScope:r,content:c})})),o.sort(Wn).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(n)},Kn=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==Pn.call(e,Fn)&&qn(t,e)},Zn=An.concat("iframe").join(","),Vn=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==Pn.call(e,Zn)&&Gn(t,e)};function Xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function eo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xn(Object(n),!0).forEach((function(t){var o,i,r;o=e,i=t,r=n[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(i))in o?Object.defineProperty(o,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[i]=r})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var to=function(e){return"Tab"===(null==e?void 0:e.key)||9===(null==e?void 0:e.keyCode)},no=function(e){return to(e)&&!e.shiftKey},oo=function(e){return to(e)&&e.shiftKey},io=function(e){return setTimeout(e,0)},ro=function(e,t){var n=-1;return e.every((function(e,o){return!t(e)||(n=o,!1)})),n},ao=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return"function"==typeof e?e.apply(void 0,n):e},so=function(e){return e.target.shadowRoot&&"function"==typeof e.composedPath?e.composedPath()[0]:e.target},co=[],uo=function(e,t){var n,o=(null==t?void 0:t.document)||document,i=(null==t?void 0:t.trapStack)||co,r=eo({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:no,isKeyBackward:oo},t),a={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},s=function(e,t,n){return e&&void 0!==e[t]?e[t]:r[n||t]},c=function(e,t){var n="function"==typeof(null==t?void 0:t.composedPath)?t.composedPath():void 0;return a.containerGroups.findIndex((function(t){var o=t.container,i=t.tabbableNodes;return o.contains(e)||(null==n?void 0:n.includes(o))||i.find((function(t){return t===e}))}))},d=function(e){var t=r[e];if("function"==typeof t){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];t=t.apply(void 0,i)}if(!0===t&&(t=void 0),!t){if(void 0===t||!1===t)return t;throw new Error("`".concat(e,"` was specified but was not a node, or did not return a node"))}var s=t;if("string"==typeof t&&!(s=o.querySelector(t)))throw new Error("`".concat(e,"` as selector refers to no known node"));return s},u=function(){var e=d("initialFocus");if(!1===e)return!1;if(void 0===e||!Vn(e,r.tabbableOptions))if(c(o.activeElement)>=0)e=o.activeElement;else{var t=a.tabbableGroups[0];e=t&&t.firstTabbableNode||d("fallbackFocus")}if(!e)throw new Error("Your focus-trap needs to have at least one focusable element");return e},l=function(){if(a.containerGroups=a.containers.map((function(e){var t=function(e,t){var n;return n=(t=t||{}).getShadowRoot?Yn([e],t.includeContainer,{filter:qn.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Jn}):Bn(e,t.includeContainer,qn.bind(null,t)),zn(n)}(e,r.tabbableOptions),n=function(e,t){return(t=t||{}).getShadowRoot?Yn([e],t.includeContainer,{filter:Gn.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):Bn(e,t.includeContainer,Gn.bind(null,t))}(e,r.tabbableOptions),o=t.length>0?t[0]:void 0,i=t.length>0?t[t.length-1]:void 0,a=n.find((function(e){return Kn(e)})),s=n.slice().reverse().find((function(e){return Kn(e)})),c=!!t.find((function(e){return $n(e)>0}));return{container:e,tabbableNodes:t,focusableNodes:n,posTabIndexesFound:c,firstTabbableNode:o,lastTabbableNode:i,firstDomTabbableNode:a,lastDomTabbableNode:s,nextTabbableNode:function(e){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=t.indexOf(e);return i<0?o?n.slice(n.indexOf(e)+1).find((function(e){return Kn(e)})):n.slice(0,n.indexOf(e)).reverse().find((function(e){return Kn(e)})):t[i+(o?1:-1)]}}})),a.tabbableGroups=a.containerGroups.filter((function(e){return e.tabbableNodes.length>0})),a.tabbableGroups.length<=0&&!d("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(a.containerGroups.find((function(e){return e.posTabIndexesFound}))&&a.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},f=function e(t){var n=t.activeElement;if(n)return n.shadowRoot&&null!==n.shadowRoot.activeElement?e(n.shadowRoot):n},h=function e(t){!1!==t&&t!==f(document)&&(t&&t.focus?(t.focus({preventScroll:!!r.preventScroll}),a.mostRecentlyFocusedNode=t,function(e){return e.tagName&&"input"===e.tagName.toLowerCase()&&"function"==typeof e.select}(t)&&t.select()):e(u()))},g=function(e){var t=d("setReturnFocus",e);return t||!1!==t&&e},p=function(e){var t=e.target,n=e.event,o=e.isBackward,i=void 0!==o&&o;t=t||so(n),l();var s=null;if(a.tabbableGroups.length>0){var u=c(t,n),f=u>=0?a.containerGroups[u]:void 0;if(u<0)s=i?a.tabbableGroups[a.tabbableGroups.length-1].lastTabbableNode:a.tabbableGroups[0].firstTabbableNode;else if(i){var h=ro(a.tabbableGroups,(function(e){var n=e.firstTabbableNode;return t===n}));if(h<0&&(f.container===t||Vn(t,r.tabbableOptions)&&!Kn(t,r.tabbableOptions)&&!f.nextTabbableNode(t,!1))&&(h=u),h>=0){var g=0===h?a.tabbableGroups.length-1:h-1,p=a.tabbableGroups[g];s=$n(t)>=0?p.lastTabbableNode:p.lastDomTabbableNode}else to(n)||(s=f.nextTabbableNode(t,!1))}else{var m=ro(a.tabbableGroups,(function(e){var n=e.lastTabbableNode;return t===n}));if(m<0&&(f.container===t||Vn(t,r.tabbableOptions)&&!Kn(t,r.tabbableOptions)&&!f.nextTabbableNode(t))&&(m=u),m>=0){var v=m===a.tabbableGroups.length-1?0:m+1,b=a.tabbableGroups[v];s=$n(t)>=0?b.firstTabbableNode:b.firstDomTabbableNode}else to(n)||(s=f.nextTabbableNode(t))}}else s=d("fallbackFocus");return s},m=function(e){var t=so(e);c(t,e)>=0||(ao(r.clickOutsideDeactivates,e)?n.deactivate({returnFocus:r.returnFocusOnDeactivate}):ao(r.allowOutsideClick,e)||e.preventDefault())},v=function(e){var t=so(e),n=c(t,e)>=0;if(n||t instanceof Document)n&&(a.mostRecentlyFocusedNode=t);else{var o;e.stopImmediatePropagation();var i=!0;if(a.mostRecentlyFocusedNode)if($n(a.mostRecentlyFocusedNode)>0){var s=c(a.mostRecentlyFocusedNode),d=a.containerGroups[s].tabbableNodes;if(d.length>0){var l=d.findIndex((function(e){return e===a.mostRecentlyFocusedNode}));l>=0&&(r.isKeyForward(a.recentNavEvent)?l+1<d.length&&(o=d[l+1],i=!1):l-1>=0&&(o=d[l-1],i=!1))}}else a.containerGroups.some((function(e){return e.tabbableNodes.some((function(e){return $n(e)>0}))}))||(i=!1);else i=!1;i&&(o=p({target:a.mostRecentlyFocusedNode,isBackward:r.isKeyBackward(a.recentNavEvent)})),h(o||a.mostRecentlyFocusedNode||u())}a.recentNavEvent=void 0},b=function(e){if(("Escape"===(null==(t=e)?void 0:t.key)||"Esc"===(null==t?void 0:t.key)||27===(null==t?void 0:t.keyCode))&&!1!==ao(r.escapeDeactivates,e))return e.preventDefault(),void n.deactivate();var t;(r.isKeyForward(e)||r.isKeyBackward(e))&&function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a.recentNavEvent=e;var n=p({event:e,isBackward:t});n&&(to(e)&&e.preventDefault(),h(n))}(e,r.isKeyBackward(e))},y=function(e){var t=so(e);c(t,e)>=0||ao(r.clickOutsideDeactivates,e)||ao(r.allowOutsideClick,e)||(e.preventDefault(),e.stopImmediatePropagation())},w=function(){if(a.active)return function(e,t){if(e.length>0){var n=e[e.length-1];n!==t&&n.pause()}var o=e.indexOf(t);-1===o||e.splice(o,1),e.push(t)}(i,n),a.delayInitialFocusTimer=r.delayInitialFocus?io((function(){h(u())})):h(u()),o.addEventListener("focusin",v,!0),o.addEventListener("mousedown",m,{capture:!0,passive:!1}),o.addEventListener("touchstart",m,{capture:!0,passive:!1}),o.addEventListener("click",y,{capture:!0,passive:!1}),o.addEventListener("keydown",b,{capture:!0,passive:!1}),n},D=function(){if(a.active)return o.removeEventListener("focusin",v,!0),o.removeEventListener("mousedown",m,!0),o.removeEventListener("touchstart",m,!0),o.removeEventListener("click",y,!0),o.removeEventListener("keydown",b,!0),n},C="undefined"!=typeof window&&"MutationObserver"in window?new MutationObserver((function(e){e.some((function(e){return Array.from(e.removedNodes).some((function(e){return e===a.mostRecentlyFocusedNode}))}))&&h(u())})):void 0,E=function(){C&&(C.disconnect(),a.active&&!a.paused&&a.containers.map((function(e){C.observe(e,{subtree:!0,childList:!0})})))};return(n={get active(){return a.active},get paused(){return a.paused},activate:function(e){if(a.active)return this;var t=s(e,"onActivate"),n=s(e,"onPostActivate"),i=s(e,"checkCanFocusTrap");i||l(),a.active=!0,a.paused=!1,a.nodeFocusedBeforeActivation=o.activeElement,null==t||t();var r=function(){i&&l(),w(),E(),null==n||n()};return i?(i(a.containers.concat()).then(r,r),this):(r(),this)},deactivate:function(e){if(!a.active)return this;var t=eo({onDeactivate:r.onDeactivate,onPostDeactivate:r.onPostDeactivate,checkCanReturnFocus:r.checkCanReturnFocus},e);clearTimeout(a.delayInitialFocusTimer),a.delayInitialFocusTimer=void 0,D(),a.active=!1,a.paused=!1,E(),function(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}(i,n);var o=s(t,"onDeactivate"),c=s(t,"onPostDeactivate"),d=s(t,"checkCanReturnFocus"),u=s(t,"returnFocus","returnFocusOnDeactivate");null==o||o();var l=function(){io((function(){u&&h(g(a.nodeFocusedBeforeActivation)),null==c||c()}))};return u&&d?(d(g(a.nodeFocusedBeforeActivation)).then(l,l),this):(l(),this)},pause:function(e){if(a.paused||!a.active)return this;var t=s(e,"onPause"),n=s(e,"onPostPause");return a.paused=!0,null==t||t(),D(),E(),null==n||n(),this},unpause:function(e){if(!a.paused||!a.active)return this;var t=s(e,"onUnpause"),n=s(e,"onPostUnpause");return a.paused=!1,null==t||t(),l(),w(),E(),null==n||n(),this},updateContainerElements:function(e){var t=[].concat(e).filter(Boolean);return a.containers=t.map((function(e){return"string"==typeof e?o.querySelector(e):e})),a.active&&l(),E(),this}}).updateContainerElements(e),n};function lo(e,...t){t&&t.forEach((t=>{e.contains(t)||e.appendChild(t)}))}function fo(e,t){return!(!e||!t)&&e.querySelector(t)}function ho(e,t){return e.querySelectorAll(t)}function go(e){return e.parentElement}function po(e,t){return e.classList.contains(t)}function mo(e,t){e.classList.add(t)}function vo(e,t){e.classList.remove(t)}function bo(e){e.focus()}function yo(e,t){e.textContent=0!==t?t:""}function wo(e,t){t.parentElement.replaceChild(e,t)}function Do(e){const t=e;t.style.pointerEvents="auto",t.style.touchEvents="auto"}function Co(e){const t=e;t.disabled=!1,t.removeAttribute("tabindex")}function Eo(e){const t=e;t.disabled=!0,t.setAttribute("tabindex","-1")}function Mo(){return Ln.content.dataset.id}function So(e){return fo(Nn[Mo()],`[data-id="${e}"]`)}function xo(e){return fo(So(e),".todo-additional-info")}function ko(){const e=document.querySelector("html");e.style.paddingRight=window.innerWidth-document.documentElement.clientWidth+"px",mo(e,"overlay-over")}function Oo(){const e=document.querySelector("html");e.style.removeProperty("padding"),vo(e,"overlay-over")}function To(e,t,n){const o=t.getBoundingClientRect().y,i=document.querySelector("html").clientHeight;return"top"===e?o<0:"bottom"===e&&i-o<n}function Io(e,t){po(e,"top-positioned")&&vo(e,"top-positioned"),po(e,"center-positioned")&&vo(e,"center-positioned"),To("bottom",e,t)&&mo(e,"top-positioned"),po(e,"top-positioned")&&To("top",e)&&(vo(e,"top-positioned"),mo(e,"center-positioned"))}function Lo(e){return fo(Ln.content,`[data-id="${e}"]`)}function No(e){return fo(fo(Ln.main,`[data-id="${e}"]`),".todo-additional-info")}function Ao(e){return fo(fo(Nn[Mo()],`[data-id= "${e}"]`),".expand-button")}function Fo(e){const t={};return t.container=yn("div","settings-list-container"),t.settingsList=yn("ul","settings-list"),t.trap=uo(t.settingsList,{allowOutsideClick:()=>!0,escapeDeactivates:()=>!1}),t.additionalDeleteSettingsFns=[],t.defaultDeleteSettingsFn=function(n){n.stopImmediatePropagation(),t.trap.deactivate(),document.removeEventListener("click",t.deleteByClickOutside),document.removeEventListener("keyup",t.deleteByKeyboard),t.container.remove(),vo(e,"focused"),e.removeEventListener("click",t.deleteSettings)},t.addAdditionalDeleteSettingsFn=function(e){t.additionalDeleteSettingsFns.push(e)},t.checkBounds=function(){To("bottom",t.settingsList,100)&&mo(t.container,"top-positioned")},t.deleteByClickOutside=function(e){go(e.target)!==t.settingsList&&t.deleteSettings(e)},t.deleteByKeyboard=function(e){"Escape"===e.key&&t.deleteSettings(e)},t.deleteSettings=function(e){t.additionalDeleteSettingsFns.forEach((e=>e())),t.defaultDeleteSettingsFn(e)},t.initContextMenu=function(){mo(e,"focused"),lo(t.container,t.settingsList),lo(go(e),t.container),e.addEventListener("click",t.deleteSettings),document.addEventListener("click",t.deleteByClickOutside),document.addEventListener("keyup",t.deleteByKeyboard)},t}function _o(e,t){document.dispatchEvent(new Event("click"));const n=function(e,t){const n=Object.create(Fo(e));return n.renameButton=Sn("Rename"),n.deleteButton=Sn("Delete"),n.renameCategory=function(o){o.stopImmediatePropagation(),n.deleteSettings(o),C().publish("RENDER_RENAME_INPUT_REQUEST",{callLocation:e,categoryID:t})},n.deleteCategory=function(e){e.stopImmediatePropagation(),n.deleteSettings(e),C().publish("DELETE_CATEGORY_MODAL_REQUEST",t)},n.initCategorySettingsMenu=function(){n.initContextMenu(),n.renameButton.addEventListener("click",n.renameCategory),lo(n.settingsList,n.renameButton),n.deleteButton.addEventListener("click",n.deleteCategory),lo(n.settingsList,n.deleteButton),n.trap.activate(),n.checkBounds()},n}(e,t);n.initCategorySettingsMenu()}function Po(){Ln.menuButton.setAttribute("aria-label","Show menu"),po(Ln.header,"hidden")&&(Ln.nav.style.visibility="hidden"),Ln.header.addEventListener("transitionend",(function e(){po(Ln.header,"hidden")&&(Ln.nav.style.visibility="hidden"),Ln.header.removeEventListener("transitionend",e)})),po(Ln.header,"visible")&&vo(Ln.header,"visible"),mo(Ln.header,"hidden"),mo(Ln.body,"header-hidden"),mo(Ln.nav,"header-hidden"),mo(Ln.menuButton,"selected")}function Ro(e,t){const n=fo(Ln.devNavbarList,`[id="${e}"]`)||fo(Ln.userNavbarList,`[data-id="${e}"]`);yo(fo(n,".todos-count"),t)}function jo(e){yo(fo(Ln.userNavbar,"#categories-counter"),e)}function Bo(){const e=this.id||this.dataset.id;C().publish("DISPLAY_CONTENT_REQUEST",e)}function Yo(e,t){const n=function(e,t){const n=document.createElement("li"),o=Dn(e,bn.category);o.classList.add("todo-holder"),o.dataset.id=t,o.setAttribute("aria-label",e),n.appendChild(o);const i=yn("span","todos-count");o.appendChild(i);const r=Mn("Edit category");return n.appendChild(r),n}(e,t);lo(Ln.userNavbarList,n),Nn[t]=""}function Ho(e){e.stopImmediatePropagation(),_o(e.target,Mo())}function $o(e){yo(Ln.contentTitle,e)}function Wo(e){!0!==e?vo(fo(Ln.sortSetting,"button"),"sortingOn"):mo(fo(Ln.sortSetting,"button"),"sortingOn")}function Uo(e){!0!==e?vo(fo(Ln.filterSetting,"button"),"filterOn"):mo(fo(Ln.filterSetting,"button"),"filterOn")}function Qo(e){const t=e.target.closest(".todo-item");if(t&&"checkbox"!==e.target.type&&"SPAN"!==e.target.tagName)return po(e.target,"settings-button")?(e.stopImmediatePropagation(),void function(e,t){document.dispatchEvent(new Event("click"));const n=function(e,t){const n=Object.create(Fo(e));return n.editButton=Sn("Edit"),n.deleteButton=Sn("Delete"),n.editTodo=function(e){e.stopImmediatePropagation(),n.deleteSettings(e),C().publish("TODO_MODAL_REQUEST",t)},n.deleteTodo=function(e){e.stopImmediatePropagation(),n.deleteSettings(e),C().publish("DELETE_TODO_MODAL_REQUEST",t)},n.deleteSettingsFn=function(){n.editButton.removeEventListener("click",n.editTodo),n.deleteButton.removeEventListener("click",n.deleteTodo)},n.initTodoSettingsMenu=function(){n.initContextMenu(),n.editButton.addEventListener("click",n.editTodo),lo(n.settingsList,n.editButton),n.deleteButton.addEventListener("click",n.deleteTodo),lo(n.settingsList,n.deleteButton),n.trap.activate(),n.checkBounds(),n.addAdditionalDeleteSettingsFn(n.deleteSettingsFn)},n}(e,t);n.initTodoSettingsMenu()}(fo(fo(Nn[Mo()],`[data-id="${t.dataset.id}"]`),".settings-button"),t.dataset.id)):po(e.target,"expand-button")?po(t,"expanded")?void Ko(t.dataset.id):void C().publish("TODO_EXPAND_REQUEST",t.dataset.id):void C().publish("TODO_MODAL_REQUEST",t.dataset.id)}function Go(e){const t=e.target.closest(".todo-item");"checkbox"===e.target.type&&C().publish("TODO_COMPLETED_STATUS_CHANGE_REQUEST",t.dataset.id)}function qo(e,t){fo(Nn[Mo()],`[data-id="${e}"]`).dataset.index=t}function Jo(e,t){const n=Nn[Mo()],o=fo(n,`[data-id="${e}"]`);n.insertBefore(o,fo(n,`[data-index="${t}"]`))}function zo(e){lo(fo(Nn[Mo()],`[data-id="${e}"]`),En("Show todo additional info"))}function Ko(e){const t=fo(Ln.main,`[data-id="${e}"]`),n=fo(t,".expand-button");n&&n.setAttribute("aria-label","Show todo additional info"),t.addEventListener("animationend",(function e(){po(t,"expanded")||fo(t,".todo-additional-info").remove(),t.removeEventListener("animationend",e)})),vo(t,"expanded")}function Zo(e,t){if(!e||!t)return;const n=fo(Nn[Mo()],`[data-id="${e}"]`),o=fo(n,'input[type="checkbox"]');"completed"===t&&(mo(n,"completed"),o.setAttribute("checked","")),"uncompleted"===t&&(vo(n,"completed"),o.removeAttribute("checked"))}function Vo(e,t){const n=fo(Nn[Mo()],`[data-id="${e}"]`),o=fo(n,"span");o.className="",t&&mo(o,`priority-${t}`)}function Xo(e,t){const n=fo(So(e),".todo-info"),o=fo(n,".settings-container"),i=function(e){const t=yn("div","todo-mini-due-date");return t.textContent=e,t}(t);n.insertBefore(i,o)}function ei(e,t){yo(fo(So(e),".todo-mini-due-date"),t)}function ti(e){fo(So(e),".todo-mini-due-date").remove()}function ni(e,t){const n=xo(e),o=function(e){const t=yn("div","todo-description"),n=yn("p","todo-description-paragraph");return n.textContent=e,t.appendChild(n),t}(t);lo(n,o)}function oi(e,t){yo(fo(So(e),".todo-description-paragraph"),t)}function ii(e){fo(So(e),".todo-description").remove()}function ri(e,t){const n=xo(e),o=function(e){const t=yn("div",`todo-priority-${e}`),n=yn("div","info-holder-title");n.textContent="Priority",t.appendChild(n);const o=yn("div","info-holder-value");return o.textContent=e,t.appendChild(o),t}(t);lo(n,o)}function ai(e,t){yo(fo(fo(So(e),"[class^='todo-priority']"),".info-holder-value"),t)}function si(e){fo(So(e),"[class^='todo-priority']").remove()}function ci(e,t){const n=xo(e),o=function(e){const t=yn("div","todo-due-date"),n=yn("div","info-holder-title");n.textContent="Due Date",t.appendChild(n);const o=yn("div","info-holder-value");return o.textContent=e,t.appendChild(o),t}(t);lo(n,o)}function di(e,t){yo(fo(fo(So(e),".todo-due-date"),".info-holder-value"),t)}function ui(e){fo(So(e),".todo-due-date").remove()}function li(e,t){const n=xo(e),o=function(e){const t=yn("div","todo-category"),n=yn("div","info-holder-title");n.textContent="Category",t.appendChild(n);const o=yn("div","info-holder-value");return o.textContent=e,t.appendChild(o),t}(t);lo(n,o)}function fi(e,t){yo(fo(fo(So(e),".todo-category"),".info-holder-value"),t)}function hi(e){fo(So(e),".todo-category").remove()}function gi(e){mo(fo(Nn[Mo()],`[data-id="${e}"]`),"overdue")}function pi(e,t){if(!e||!t)return;const n=So(t),o=fo(n,"input"),i=fo(n,".settings-button"),r=fo(n,".todo-additional-info"),a=fo(n,".expand-button");"out"===e&&(n.setAttribute("tabindex","-1"),o.setAttribute("tabindex","-1"),i.setAttribute("tabindex","-1"),r&&Ko(t),a&&a.setAttribute("tabindex","-1"),mo(n,"filteredOut")),"in"===e&&(n.setAttribute("tabindex","0"),o.removeAttribute("tabindex"),i.removeAttribute("tabindex"),a&&a.removeAttribute("tabindex"),vo(n,"filteredOut"))}var mi=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],vi={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(e){return"undefined"!=typeof console&&console.warn(e)},getWeek:function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},bi={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1};const yi=bi;var wi=function(e,t){return void 0===t&&(t=2),("000"+e).slice(-1*t)},Di=function(e){return!0===e?1:0};function Ci(e,t){var n;return function(){var o=this,i=arguments;clearTimeout(n),n=setTimeout((function(){return e.apply(o,i)}),t)}}var Ei=function(e){return e instanceof Array?e:[e]};function Mi(e,t,n){if(!0===n)return e.classList.add(t);e.classList.remove(t)}function Si(e,t,n){var o=window.document.createElement(e);return t=t||"",n=n||"",o.className=t,void 0!==n&&(o.textContent=n),o}function xi(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function ki(e,t){return t(e)?e:e.parentNode?ki(e.parentNode,t):void 0}function Oi(e,t){var n=Si("div","numInputWrapper"),o=Si("input","numInput "+e),i=Si("span","arrowUp"),r=Si("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?o.type="number":(o.type="text",o.pattern="\\d*"),void 0!==t)for(var a in t)o.setAttribute(a,t[a]);return n.appendChild(o),n.appendChild(i),n.appendChild(r),n}function Ti(e){try{return"function"==typeof e.composedPath?e.composedPath()[0]:e.target}catch(t){return e.target}}var Ii=function(){},Li=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]},Ni={D:Ii,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,n){e.setHours(e.getHours()%12+12*Di(new RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(1e3*parseFloat(t))},W:function(e,t,n){var o=parseInt(t),i=new Date(e.getFullYear(),0,2+7*(o-1),0,0,0,0);return i.setDate(i.getDate()-i.getDay()+n.firstDayOfWeek),i},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:Ii,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},u:function(e,t){return new Date(parseFloat(t))},w:Ii,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},Ai={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},Fi={Z:function(e){return e.toISOString()},D:function(e,t,n){return t.weekdays.shorthand[Fi.w(e,t,n)]},F:function(e,t,n){return Li(Fi.n(e,t,n)-1,!1,t)},G:function(e,t,n){return wi(Fi.h(e,t,n))},H:function(e){return wi(e.getHours())},J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[Di(e.getHours()>11)]},M:function(e,t){return Li(e.getMonth(),!0,t)},S:function(e){return wi(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,n){return n.getWeek(e)},Y:function(e){return wi(e.getFullYear(),4)},d:function(e){return wi(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return wi(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return wi(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},u:function(e){return e.getTime()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},_i=function(e){var t=e.config,n=void 0===t?vi:t,o=e.l10n,i=void 0===o?bi:o,r=e.isMobile,a=void 0!==r&&r;return function(e,t,o){var r=o||i;return void 0===n.formatDate||a?t.split("").map((function(t,o,i){return Fi[t]&&"\\"!==i[o-1]?Fi[t](e,r,n):"\\"!==t?t:""})).join(""):n.formatDate(e,t,r)}},Pi=function(e){var t=e.config,n=void 0===t?vi:t,o=e.l10n,i=void 0===o?bi:o;return function(e,t,o,r){if(0===e||e){var a,s=r||i,c=e;if(e instanceof Date)a=new Date(e.getTime());else if("string"!=typeof e&&void 0!==e.toFixed)a=new Date(e);else if("string"==typeof e){var d=t||(n||vi).dateFormat,u=String(e).trim();if("today"===u)a=new Date,o=!0;else if(n&&n.parseDate)a=n.parseDate(e,d);else if(/Z$/.test(u)||/GMT$/.test(u))a=new Date(e);else{for(var l=void 0,f=[],h=0,g=0,p="";h<d.length;h++){var m=d[h],v="\\"===m,b="\\"===d[h-1]||v;if(Ai[m]&&!b){p+=Ai[m];var y=new RegExp(p).exec(e);y&&(l=!0)&&f["Y"!==m?"push":"unshift"]({fn:Ni[m],val:y[++g]})}else v||(p+=".")}a=n&&n.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0),f.forEach((function(e){var t=e.fn,n=e.val;return a=t(a,n,s)||a})),a=l?a:void 0}}if(a instanceof Date&&!isNaN(a.getTime()))return!0===o&&a.setHours(0,0,0,0),a;n.errorHandler(new Error("Invalid date provided: "+c))}}};function Ri(e,t,n){return void 0===n&&(n=!0),!1!==n?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}var ji=function(e,t,n){return e>Math.min(t,n)&&e<Math.max(t,n)},Bi=function(e,t,n){return 3600*e+60*t+n},Yi=function(e){var t=Math.floor(e/3600),n=(e-3600*t)/60;return[t,n,e-3600*t-60*n]},Hi={DAY:864e5};function $i(e){var t=e.defaultHour,n=e.defaultMinute,o=e.defaultSeconds;if(void 0!==e.minDate){var i=e.minDate.getHours(),r=e.minDate.getMinutes(),a=e.minDate.getSeconds();t<i&&(t=i),t===i&&n<r&&(n=r),t===i&&n===r&&o<a&&(o=e.minDate.getSeconds())}if(void 0!==e.maxDate){var s=e.maxDate.getHours(),c=e.maxDate.getMinutes();(t=Math.min(t,s))===s&&(n=Math.min(c,n)),t===s&&n===c&&(o=e.maxDate.getSeconds())}return{hours:t,minutes:n,seconds:o}}n(895);var Wi=function(){return Wi=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Wi.apply(this,arguments)},Ui=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),i=0;for(t=0;t<n;t++)for(var r=arguments[t],a=0,s=r.length;a<s;a++,i++)o[i]=r[a];return o},Qi=300;function Gi(e,t){var n={config:Wi(Wi({},vi),Ji.defaultConfig),l10n:yi};function o(){var e;return(null===(e=n.calendarContainer)||void 0===e?void 0:e.getRootNode()).activeElement||document.activeElement}function i(e){return e.bind(n)}function r(){var e=n.config;!1===e.weekNumbers&&1===e.showMonths||!0!==e.noCalendar&&window.requestAnimationFrame((function(){if(void 0!==n.calendarContainer&&(n.calendarContainer.style.visibility="hidden",n.calendarContainer.style.display="block"),void 0!==n.daysContainer){var t=(n.days.offsetWidth+1)*e.showMonths;n.daysContainer.style.width=t+"px",n.calendarContainer.style.width=t+(void 0!==n.weekWrapper?n.weekWrapper.offsetWidth:0)+"px",n.calendarContainer.style.removeProperty("visibility"),n.calendarContainer.style.removeProperty("display")}}))}function a(e){if(0===n.selectedDates.length){var t=void 0===n.config.minDate||Ri(new Date,n.config.minDate)>=0?new Date:new Date(n.config.minDate.getTime()),o=$i(n.config);t.setHours(o.hours,o.minutes,o.seconds,t.getMilliseconds()),n.selectedDates=[t],n.latestSelectedDateObj=t}void 0!==e&&"blur"!==e.type&&function(e){e.preventDefault();var t="keydown"===e.type,o=Ti(e),i=o;void 0!==n.amPM&&o===n.amPM&&(n.amPM.textContent=n.l10n.amPM[Di(n.amPM.textContent===n.l10n.amPM[0])]);var r=parseFloat(i.getAttribute("min")),a=parseFloat(i.getAttribute("max")),s=parseFloat(i.getAttribute("step")),c=parseInt(i.value,10),d=c+s*(e.delta||(t?38===e.which?1:-1:0));if(void 0!==i.value&&2===i.value.length){var u=i===n.hourElement,l=i===n.minuteElement;d<r?(d=a+d+Di(!u)+(Di(u)&&Di(!n.amPM)),l&&p(void 0,-1,n.hourElement)):d>a&&(d=i===n.hourElement?d-a-Di(!n.amPM):r,l&&p(void 0,1,n.hourElement)),n.amPM&&u&&(1===s?d+c===23:Math.abs(d-c)>s)&&(n.amPM.textContent=n.l10n.amPM[Di(n.amPM.textContent===n.l10n.amPM[0])]),i.value=wi(d)}}(e);var i=n._input.value;s(),X(),n._input.value!==i&&n._debouncedChange()}function s(){if(void 0!==n.hourElement&&void 0!==n.minuteElement){var e,t,o=(parseInt(n.hourElement.value.slice(-2),10)||0)%24,i=(parseInt(n.minuteElement.value,10)||0)%60,r=void 0!==n.secondElement?(parseInt(n.secondElement.value,10)||0)%60:0;void 0!==n.amPM&&(e=o,t=n.amPM.textContent,o=e%12+12*Di(t===n.l10n.amPM[1]));var a=void 0!==n.config.minTime||n.config.minDate&&n.minDateHasTime&&n.latestSelectedDateObj&&0===Ri(n.latestSelectedDateObj,n.config.minDate,!0),s=void 0!==n.config.maxTime||n.config.maxDate&&n.maxDateHasTime&&n.latestSelectedDateObj&&0===Ri(n.latestSelectedDateObj,n.config.maxDate,!0);if(void 0!==n.config.maxTime&&void 0!==n.config.minTime&&n.config.minTime>n.config.maxTime){var c=Bi(n.config.minTime.getHours(),n.config.minTime.getMinutes(),n.config.minTime.getSeconds()),u=Bi(n.config.maxTime.getHours(),n.config.maxTime.getMinutes(),n.config.maxTime.getSeconds()),l=Bi(o,i,r);if(l>u&&l<c){var f=Yi(c);o=f[0],i=f[1],r=f[2]}}else{if(s){var h=void 0!==n.config.maxTime?n.config.maxTime:n.config.maxDate;(o=Math.min(o,h.getHours()))===h.getHours()&&(i=Math.min(i,h.getMinutes())),i===h.getMinutes()&&(r=Math.min(r,h.getSeconds()))}if(a){var g=void 0!==n.config.minTime?n.config.minTime:n.config.minDate;(o=Math.max(o,g.getHours()))===g.getHours()&&i<g.getMinutes()&&(i=g.getMinutes()),i===g.getMinutes()&&(r=Math.max(r,g.getSeconds()))}}d(o,i,r)}}function c(e){var t=e||n.latestSelectedDateObj;t&&t instanceof Date&&d(t.getHours(),t.getMinutes(),t.getSeconds())}function d(e,t,o){void 0!==n.latestSelectedDateObj&&n.latestSelectedDateObj.setHours(e%24,t,o||0,0),n.hourElement&&n.minuteElement&&!n.isMobile&&(n.hourElement.value=wi(n.config.time_24hr?e:(12+e)%12+12*Di(e%12==0)),n.minuteElement.value=wi(t),void 0!==n.amPM&&(n.amPM.textContent=n.l10n.amPM[Di(e>=12)]),void 0!==n.secondElement&&(n.secondElement.value=wi(o)))}function u(e){var t=Ti(e),n=parseInt(t.value)+(e.delta||0);(n/1e3>1||"Enter"===e.key&&!/[^\d]/.test(n.toString()))&&I(n)}function l(e,t,o,i){return t instanceof Array?t.forEach((function(t){return l(e,t,o,i)})):e instanceof Array?e.forEach((function(e){return l(e,t,o,i)})):(e.addEventListener(t,o,i),void n._handlers.push({remove:function(){return e.removeEventListener(t,o,i)}}))}function f(){J("onChange")}function h(e,t){var o=void 0!==e?n.parseDate(e):n.latestSelectedDateObj||(n.config.minDate&&n.config.minDate>n.now?n.config.minDate:n.config.maxDate&&n.config.maxDate<n.now?n.config.maxDate:n.now),i=n.currentYear,r=n.currentMonth;try{void 0!==o&&(n.currentYear=o.getFullYear(),n.currentMonth=o.getMonth())}catch(e){e.message="Invalid date supplied: "+o,n.config.errorHandler(e)}t&&n.currentYear!==i&&(J("onYearChange"),C()),!t||n.currentYear===i&&n.currentMonth===r||J("onMonthChange"),n.redraw()}function g(e){var t=Ti(e);~t.className.indexOf("arrow")&&p(e,t.classList.contains("arrowUp")?1:-1)}function p(e,t,n){var o=e&&Ti(e),i=n||o&&o.parentNode&&o.parentNode.firstChild,r=z("increment");r.delta=t,i&&i.dispatchEvent(r)}function m(e,t,o,i){var r=L(t,!0),a=Si("span",e,t.getDate().toString());return a.dateObj=t,a.$i=i,a.setAttribute("aria-label",n.formatDate(t,n.config.ariaDateFormat)),-1===e.indexOf("hidden")&&0===Ri(t,n.now)&&(n.todayDateElem=a,a.classList.add("today"),a.setAttribute("aria-current","date")),r?(a.tabIndex=-1,K(t)&&(a.classList.add("selected"),n.selectedDateElem=a,"range"===n.config.mode&&(Mi(a,"startRange",n.selectedDates[0]&&0===Ri(t,n.selectedDates[0],!0)),Mi(a,"endRange",n.selectedDates[1]&&0===Ri(t,n.selectedDates[1],!0)),"nextMonthDay"===e&&a.classList.add("inRange")))):a.classList.add("flatpickr-disabled"),"range"===n.config.mode&&function(e){return!("range"!==n.config.mode||n.selectedDates.length<2)&&Ri(e,n.selectedDates[0])>=0&&Ri(e,n.selectedDates[1])<=0}(t)&&!K(t)&&a.classList.add("inRange"),n.weekNumbers&&1===n.config.showMonths&&"prevMonthDay"!==e&&i%7==6&&n.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+n.config.getWeek(t)+"</span>"),J("onDayCreate",a),a}function v(e){e.focus(),"range"===n.config.mode&&_(e)}function b(e){for(var t=e>0?0:n.config.showMonths-1,o=e>0?n.config.showMonths:-1,i=t;i!=o;i+=e)for(var r=n.daysContainer.children[i],a=e>0?0:r.children.length-1,s=e>0?r.children.length:-1,c=a;c!=s;c+=e){var d=r.children[c];if(-1===d.className.indexOf("hidden")&&L(d.dateObj))return d}}function y(e,t){var i=o(),r=N(i||document.body),a=void 0!==e?e:r?i:void 0!==n.selectedDateElem&&N(n.selectedDateElem)?n.selectedDateElem:void 0!==n.todayDateElem&&N(n.todayDateElem)?n.todayDateElem:b(t>0?1:-1);void 0===a?n._input.focus():r?function(e,t){for(var o=-1===e.className.indexOf("Month")?e.dateObj.getMonth():n.currentMonth,i=t>0?n.config.showMonths:-1,r=t>0?1:-1,a=o-n.currentMonth;a!=i;a+=r)for(var s=n.daysContainer.children[a],c=o-n.currentMonth===a?e.$i+t:t<0?s.children.length-1:0,d=s.children.length,u=c;u>=0&&u<d&&u!=(t>0?d:-1);u+=r){var l=s.children[u];if(-1===l.className.indexOf("hidden")&&L(l.dateObj)&&Math.abs(e.$i-u)>=Math.abs(t))return v(l)}n.changeMonth(r),y(b(r),0)}(a,t):v(a)}function w(e,t){for(var o=(new Date(e,t,1).getDay()-n.l10n.firstDayOfWeek+7)%7,i=n.utils.getDaysInMonth((t-1+12)%12,e),r=n.utils.getDaysInMonth(t,e),a=window.document.createDocumentFragment(),s=n.config.showMonths>1,c=s?"prevMonthDay hidden":"prevMonthDay",d=s?"nextMonthDay hidden":"nextMonthDay",u=i+1-o,l=0;u<=i;u++,l++)a.appendChild(m("flatpickr-day "+c,new Date(e,t-1,u),0,l));for(u=1;u<=r;u++,l++)a.appendChild(m("flatpickr-day",new Date(e,t,u),0,l));for(var f=r+1;f<=42-o&&(1===n.config.showMonths||l%7!=0);f++,l++)a.appendChild(m("flatpickr-day "+d,new Date(e,t+1,f%r),0,l));var h=Si("div","dayContainer");return h.appendChild(a),h}function D(){if(void 0!==n.daysContainer){xi(n.daysContainer),n.weekNumbers&&xi(n.weekNumbers);for(var e=document.createDocumentFragment(),t=0;t<n.config.showMonths;t++){var o=new Date(n.currentYear,n.currentMonth,1);o.setMonth(n.currentMonth+t),e.appendChild(w(o.getFullYear(),o.getMonth()))}n.daysContainer.appendChild(e),n.days=n.daysContainer.firstChild,"range"===n.config.mode&&1===n.selectedDates.length&&_()}}function C(){if(!(n.config.showMonths>1||"dropdown"!==n.config.monthSelectorType)){var e=function(e){return!(void 0!==n.config.minDate&&n.currentYear===n.config.minDate.getFullYear()&&e<n.config.minDate.getMonth()||void 0!==n.config.maxDate&&n.currentYear===n.config.maxDate.getFullYear()&&e>n.config.maxDate.getMonth())};n.monthsDropdownContainer.tabIndex=-1,n.monthsDropdownContainer.innerHTML="";for(var t=0;t<12;t++)if(e(t)){var o=Si("option","flatpickr-monthDropdown-month");o.value=new Date(n.currentYear,t).getMonth().toString(),o.textContent=Li(t,n.config.shorthandCurrentMonth,n.l10n),o.tabIndex=-1,n.currentMonth===t&&(o.selected=!0),n.monthsDropdownContainer.appendChild(o)}}}function E(){var e,t=Si("div","flatpickr-month"),o=window.document.createDocumentFragment();n.config.showMonths>1||"static"===n.config.monthSelectorType?e=Si("span","cur-month"):(n.monthsDropdownContainer=Si("select","flatpickr-monthDropdown-months"),n.monthsDropdownContainer.setAttribute("aria-label",n.l10n.monthAriaLabel),l(n.monthsDropdownContainer,"change",(function(e){var t=Ti(e),o=parseInt(t.value,10);n.changeMonth(o-n.currentMonth),J("onMonthChange")})),C(),e=n.monthsDropdownContainer);var i=Oi("cur-year",{tabindex:"-1"}),r=i.getElementsByTagName("input")[0];r.setAttribute("aria-label",n.l10n.yearAriaLabel),n.config.minDate&&r.setAttribute("min",n.config.minDate.getFullYear().toString()),n.config.maxDate&&(r.setAttribute("max",n.config.maxDate.getFullYear().toString()),r.disabled=!!n.config.minDate&&n.config.minDate.getFullYear()===n.config.maxDate.getFullYear());var a=Si("div","flatpickr-current-month");return a.appendChild(e),a.appendChild(i),o.appendChild(a),t.appendChild(o),{container:t,yearElement:r,monthElement:e}}function M(){xi(n.monthNav),n.monthNav.appendChild(n.prevMonthNav),n.config.showMonths&&(n.yearElements=[],n.monthElements=[]);for(var e=n.config.showMonths;e--;){var t=E();n.yearElements.push(t.yearElement),n.monthElements.push(t.monthElement),n.monthNav.appendChild(t.container)}n.monthNav.appendChild(n.nextMonthNav)}function S(){n.weekdayContainer?xi(n.weekdayContainer):n.weekdayContainer=Si("div","flatpickr-weekdays");for(var e=n.config.showMonths;e--;){var t=Si("div","flatpickr-weekdaycontainer");n.weekdayContainer.appendChild(t)}return x(),n.weekdayContainer}function x(){if(n.weekdayContainer){var e=n.l10n.firstDayOfWeek,t=Ui(n.l10n.weekdays.shorthand);e>0&&e<t.length&&(t=Ui(t.splice(e,t.length),t.splice(0,e)));for(var o=n.config.showMonths;o--;)n.weekdayContainer.children[o].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+t.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function k(e,t){void 0===t&&(t=!0);var o=t?e:e-n.currentMonth;o<0&&!0===n._hidePrevMonthArrow||o>0&&!0===n._hideNextMonthArrow||(n.currentMonth+=o,(n.currentMonth<0||n.currentMonth>11)&&(n.currentYear+=n.currentMonth>11?1:-1,n.currentMonth=(n.currentMonth+12)%12,J("onYearChange"),C()),D(),J("onMonthChange"),Z())}function O(e){return n.calendarContainer.contains(e)}function T(e){if(n.isOpen&&!n.config.inline){var t=Ti(e),o=O(t),i=!(t===n.input||t===n.altInput||n.element.contains(t)||e.path&&e.path.indexOf&&(~e.path.indexOf(n.input)||~e.path.indexOf(n.altInput))||o||O(e.relatedTarget)),r=!n.config.ignoredFocusElements.some((function(e){return e.contains(t)}));i&&r&&(n.config.allowInput&&n.setDate(n._input.value,!1,n.config.altInput?n.config.altFormat:n.config.dateFormat),void 0!==n.timeContainer&&void 0!==n.minuteElement&&void 0!==n.hourElement&&""!==n.input.value&&void 0!==n.input.value&&a(),n.close(),n.config&&"range"===n.config.mode&&1===n.selectedDates.length&&n.clear(!1))}}function I(e){if(!(!e||n.config.minDate&&e<n.config.minDate.getFullYear()||n.config.maxDate&&e>n.config.maxDate.getFullYear())){var t=e,o=n.currentYear!==t;n.currentYear=t||n.currentYear,n.config.maxDate&&n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth=Math.min(n.config.maxDate.getMonth(),n.currentMonth):n.config.minDate&&n.currentYear===n.config.minDate.getFullYear()&&(n.currentMonth=Math.max(n.config.minDate.getMonth(),n.currentMonth)),o&&(n.redraw(),J("onYearChange"),C())}}function L(e,t){var o;void 0===t&&(t=!0);var i=n.parseDate(e,void 0,t);if(n.config.minDate&&i&&Ri(i,n.config.minDate,void 0!==t?t:!n.minDateHasTime)<0||n.config.maxDate&&i&&Ri(i,n.config.maxDate,void 0!==t?t:!n.maxDateHasTime)>0)return!1;if(!n.config.enable&&0===n.config.disable.length)return!0;if(void 0===i)return!1;for(var r=!!n.config.enable,a=null!==(o=n.config.enable)&&void 0!==o?o:n.config.disable,s=0,c=void 0;s<a.length;s++){if("function"==typeof(c=a[s])&&c(i))return r;if(c instanceof Date&&void 0!==i&&c.getTime()===i.getTime())return r;if("string"==typeof c){var d=n.parseDate(c,void 0,!0);return d&&d.getTime()===i.getTime()?r:!r}if("object"==typeof c&&void 0!==i&&c.from&&c.to&&i.getTime()>=c.from.getTime()&&i.getTime()<=c.to.getTime())return r}return!r}function N(e){return void 0!==n.daysContainer&&-1===e.className.indexOf("hidden")&&-1===e.className.indexOf("flatpickr-disabled")&&n.daysContainer.contains(e)}function A(e){var t=e.target===n._input,o=n._input.value.trimEnd()!==V();!t||!o||e.relatedTarget&&O(e.relatedTarget)||n.setDate(n._input.value,!0,e.target===n.altInput?n.config.altFormat:n.config.dateFormat)}function F(t){var i=Ti(t),r=n.config.wrap?e.contains(i):i===n._input,c=n.config.allowInput,d=n.isOpen&&(!c||!r),u=n.config.inline&&r&&!c;if(13===t.keyCode&&r){if(c)return n.setDate(n._input.value,!0,i===n.altInput?n.config.altFormat:n.config.dateFormat),n.close(),i.blur();n.open()}else if(O(i)||d||u){var l=!!n.timeContainer&&n.timeContainer.contains(i);switch(t.keyCode){case 13:l?(t.preventDefault(),a(),$()):W(t);break;case 27:t.preventDefault(),$();break;case 8:case 46:r&&!n.config.allowInput&&(t.preventDefault(),n.clear());break;case 37:case 39:if(l||r)n.hourElement&&n.hourElement.focus();else{t.preventDefault();var f=o();if(void 0!==n.daysContainer&&(!1===c||f&&N(f))){var h=39===t.keyCode?1:-1;t.ctrlKey?(t.stopPropagation(),k(h),y(b(1),0)):y(void 0,h)}}break;case 38:case 40:t.preventDefault();var g=40===t.keyCode?1:-1;n.daysContainer&&void 0!==i.$i||i===n.input||i===n.altInput?t.ctrlKey?(t.stopPropagation(),I(n.currentYear-g),y(b(1),0)):l||y(void 0,7*g):i===n.currentYearElement?I(n.currentYear-g):n.config.enableTime&&(!l&&n.hourElement&&n.hourElement.focus(),a(t),n._debouncedChange());break;case 9:if(l){var p=[n.hourElement,n.minuteElement,n.secondElement,n.amPM].concat(n.pluginElements).filter((function(e){return e})),m=p.indexOf(i);if(-1!==m){var v=p[m+(t.shiftKey?-1:1)];t.preventDefault(),(v||n._input).focus()}}else!n.config.noCalendar&&n.daysContainer&&n.daysContainer.contains(i)&&t.shiftKey&&(t.preventDefault(),n._input.focus())}}if(void 0!==n.amPM&&i===n.amPM)switch(t.key){case n.l10n.amPM[0].charAt(0):case n.l10n.amPM[0].charAt(0).toLowerCase():n.amPM.textContent=n.l10n.amPM[0],s(),X();break;case n.l10n.amPM[1].charAt(0):case n.l10n.amPM[1].charAt(0).toLowerCase():n.amPM.textContent=n.l10n.amPM[1],s(),X()}(r||O(i))&&J("onKeyDown",t)}function _(e,t){if(void 0===t&&(t="flatpickr-day"),1===n.selectedDates.length&&(!e||e.classList.contains(t)&&!e.classList.contains("flatpickr-disabled"))){for(var o=e?e.dateObj.getTime():n.days.firstElementChild.dateObj.getTime(),i=n.parseDate(n.selectedDates[0],void 0,!0).getTime(),r=Math.min(o,n.selectedDates[0].getTime()),a=Math.max(o,n.selectedDates[0].getTime()),s=!1,c=0,d=0,u=r;u<a;u+=Hi.DAY)L(new Date(u),!0)||(s=s||u>r&&u<a,u<i&&(!c||u>c)?c=u:u>i&&(!d||u<d)&&(d=u));Array.from(n.rContainer.querySelectorAll("*:nth-child(-n+"+n.config.showMonths+") > ."+t)).forEach((function(t){var r=t.dateObj.getTime(),a=c>0&&r<c||d>0&&r>d;if(a)return t.classList.add("notAllowed"),void["inRange","startRange","endRange"].forEach((function(e){t.classList.remove(e)}));s&&!a||(["startRange","inRange","endRange","notAllowed"].forEach((function(e){t.classList.remove(e)})),void 0!==e&&(e.classList.add(o<=n.selectedDates[0].getTime()?"startRange":"endRange"),i<o&&r===i?t.classList.add("startRange"):i>o&&r===i&&t.classList.add("endRange"),r>=c&&(0===d||r<=d)&&ji(r,i,o)&&t.classList.add("inRange")))}))}}function P(){!n.isOpen||n.config.static||n.config.inline||Y()}function R(e){return function(t){var o=n.config["_"+e+"Date"]=n.parseDate(t,n.config.dateFormat),i=n.config["_"+("min"===e?"max":"min")+"Date"];void 0!==o&&(n["min"===e?"minDateHasTime":"maxDateHasTime"]=o.getHours()>0||o.getMinutes()>0||o.getSeconds()>0),n.selectedDates&&(n.selectedDates=n.selectedDates.filter((function(e){return L(e)})),n.selectedDates.length||"min"!==e||c(o),X()),n.daysContainer&&(H(),void 0!==o?n.currentYearElement[e]=o.getFullYear().toString():n.currentYearElement.removeAttribute(e),n.currentYearElement.disabled=!!i&&void 0!==o&&i.getFullYear()===o.getFullYear())}}function j(){return n.config.wrap?e.querySelector("[data-input]"):e}function B(){"object"!=typeof n.config.locale&&void 0===Ji.l10ns[n.config.locale]&&n.config.errorHandler(new Error("flatpickr: invalid locale "+n.config.locale)),n.l10n=Wi(Wi({},Ji.l10ns.default),"object"==typeof n.config.locale?n.config.locale:"default"!==n.config.locale?Ji.l10ns[n.config.locale]:void 0),Ai.D="("+n.l10n.weekdays.shorthand.join("|")+")",Ai.l="("+n.l10n.weekdays.longhand.join("|")+")",Ai.M="("+n.l10n.months.shorthand.join("|")+")",Ai.F="("+n.l10n.months.longhand.join("|")+")",Ai.K="("+n.l10n.amPM[0]+"|"+n.l10n.amPM[1]+"|"+n.l10n.amPM[0].toLowerCase()+"|"+n.l10n.amPM[1].toLowerCase()+")",void 0===Wi(Wi({},t),JSON.parse(JSON.stringify(e.dataset||{}))).time_24hr&&void 0===Ji.defaultConfig.time_24hr&&(n.config.time_24hr=n.l10n.time_24hr),n.formatDate=_i(n),n.parseDate=Pi({config:n.config,l10n:n.l10n})}function Y(e){if("function"!=typeof n.config.position){if(void 0!==n.calendarContainer){J("onPreCalendarPosition");var t=e||n._positionElement,o=Array.prototype.reduce.call(n.calendarContainer.children,(function(e,t){return e+t.offsetHeight}),0),i=n.calendarContainer.offsetWidth,r=n.config.position.split(" "),a=r[0],s=r.length>1?r[1]:null,c=t.getBoundingClientRect(),d=window.innerHeight-c.bottom,u="above"===a||"below"!==a&&d<o&&c.top>o,l=window.pageYOffset+c.top+(u?-o-2:t.offsetHeight+2);if(Mi(n.calendarContainer,"arrowTop",!u),Mi(n.calendarContainer,"arrowBottom",u),!n.config.inline){var f=window.pageXOffset+c.left,h=!1,g=!1;"center"===s?(f-=(i-c.width)/2,h=!0):"right"===s&&(f-=i-c.width,g=!0),Mi(n.calendarContainer,"arrowLeft",!h&&!g),Mi(n.calendarContainer,"arrowCenter",h),Mi(n.calendarContainer,"arrowRight",g);var p=window.document.body.offsetWidth-(window.pageXOffset+c.right),m=f+i>window.document.body.offsetWidth,v=p+i>window.document.body.offsetWidth;if(Mi(n.calendarContainer,"rightMost",m),!n.config.static)if(n.calendarContainer.style.top=l+"px",m)if(v){var b=function(){for(var e=null,t=0;t<document.styleSheets.length;t++){var n=document.styleSheets[t];if(n.cssRules){try{n.cssRules}catch(e){continue}e=n;break}}return null!=e?e:(o=document.createElement("style"),document.head.appendChild(o),o.sheet);var o}();if(void 0===b)return;var y=window.document.body.offsetWidth,w=Math.max(0,y/2-i/2),D=b.cssRules.length,C="{left:"+c.left+"px;right:auto;}";Mi(n.calendarContainer,"rightMost",!1),Mi(n.calendarContainer,"centerMost",!0),b.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+C,D),n.calendarContainer.style.left=w+"px",n.calendarContainer.style.right="auto"}else n.calendarContainer.style.left="auto",n.calendarContainer.style.right=p+"px";else n.calendarContainer.style.left=f+"px",n.calendarContainer.style.right="auto"}}}else n.config.position(n,e)}function H(){n.config.noCalendar||n.isMobile||(C(),Z(),D())}function $(){n._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(n.close,0):n.close()}function W(e){e.preventDefault(),e.stopPropagation();var t=ki(Ti(e),(function(e){return e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled")&&!e.classList.contains("notAllowed")}));if(void 0!==t){var o=t,i=n.latestSelectedDateObj=new Date(o.dateObj.getTime()),r=(i.getMonth()<n.currentMonth||i.getMonth()>n.currentMonth+n.config.showMonths-1)&&"range"!==n.config.mode;if(n.selectedDateElem=o,"single"===n.config.mode)n.selectedDates=[i];else if("multiple"===n.config.mode){var a=K(i);a?n.selectedDates.splice(parseInt(a),1):n.selectedDates.push(i)}else"range"===n.config.mode&&(2===n.selectedDates.length&&n.clear(!1,!1),n.latestSelectedDateObj=i,n.selectedDates.push(i),0!==Ri(i,n.selectedDates[0],!0)&&n.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()})));if(s(),r){var c=n.currentYear!==i.getFullYear();n.currentYear=i.getFullYear(),n.currentMonth=i.getMonth(),c&&(J("onYearChange"),C()),J("onMonthChange")}if(Z(),D(),X(),r||"range"===n.config.mode||1!==n.config.showMonths?void 0!==n.selectedDateElem&&void 0===n.hourElement&&n.selectedDateElem&&n.selectedDateElem.focus():v(o),void 0!==n.hourElement&&void 0!==n.hourElement&&n.hourElement.focus(),n.config.closeOnSelect){var d="single"===n.config.mode&&!n.config.enableTime,u="range"===n.config.mode&&2===n.selectedDates.length&&!n.config.enableTime;(d||u)&&$()}f()}}n.parseDate=Pi({config:n.config,l10n:n.l10n}),n._handlers=[],n.pluginElements=[],n.loadedPlugins=[],n._bind=l,n._setHoursFromDate=c,n._positionCalendar=Y,n.changeMonth=k,n.changeYear=I,n.clear=function(e,t){if(void 0===e&&(e=!0),void 0===t&&(t=!0),n.input.value="",void 0!==n.altInput&&(n.altInput.value=""),void 0!==n.mobileInput&&(n.mobileInput.value=""),n.selectedDates=[],n.latestSelectedDateObj=void 0,!0===t&&(n.currentYear=n._initialDate.getFullYear(),n.currentMonth=n._initialDate.getMonth()),!0===n.config.enableTime){var o=$i(n.config);d(o.hours,o.minutes,o.seconds)}n.redraw(),e&&J("onChange")},n.close=function(){n.isOpen=!1,n.isMobile||(void 0!==n.calendarContainer&&n.calendarContainer.classList.remove("open"),void 0!==n._input&&n._input.classList.remove("active")),J("onClose")},n.onMouseOver=_,n._createElement=Si,n.createDay=m,n.destroy=function(){void 0!==n.config&&J("onDestroy");for(var e=n._handlers.length;e--;)n._handlers[e].remove();if(n._handlers=[],n.mobileInput)n.mobileInput.parentNode&&n.mobileInput.parentNode.removeChild(n.mobileInput),n.mobileInput=void 0;else if(n.calendarContainer&&n.calendarContainer.parentNode)if(n.config.static&&n.calendarContainer.parentNode){var t=n.calendarContainer.parentNode;if(t.lastChild&&t.removeChild(t.lastChild),t.parentNode){for(;t.firstChild;)t.parentNode.insertBefore(t.firstChild,t);t.parentNode.removeChild(t)}}else n.calendarContainer.parentNode.removeChild(n.calendarContainer);n.altInput&&(n.input.type="text",n.altInput.parentNode&&n.altInput.parentNode.removeChild(n.altInput),delete n.altInput),n.input&&(n.input.type=n.input._type,n.input.classList.remove("flatpickr-input"),n.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach((function(e){try{delete n[e]}catch(e){}}))},n.isEnabled=L,n.jumpToDate=h,n.updateValue=X,n.open=function(e,t){if(void 0===t&&(t=n._positionElement),!0===n.isMobile){if(e){e.preventDefault();var o=Ti(e);o&&o.blur()}return void 0!==n.mobileInput&&(n.mobileInput.focus(),n.mobileInput.click()),void J("onOpen")}if(!n._input.disabled&&!n.config.inline){var i=n.isOpen;n.isOpen=!0,i||(n.calendarContainer.classList.add("open"),n._input.classList.add("active"),J("onOpen"),Y(t)),!0===n.config.enableTime&&!0===n.config.noCalendar&&(!1!==n.config.allowInput||void 0!==e&&n.timeContainer.contains(e.relatedTarget)||setTimeout((function(){return n.hourElement.select()}),50))}},n.redraw=H,n.set=function(e,t){if(null!==e&&"object"==typeof e)for(var o in Object.assign(n.config,e),e)void 0!==U[o]&&U[o].forEach((function(e){return e()}));else n.config[e]=t,void 0!==U[e]?U[e].forEach((function(e){return e()})):mi.indexOf(e)>-1&&(n.config[e]=Ei(t));n.redraw(),X(!0)},n.setDate=function(e,t,o){if(void 0===t&&(t=!1),void 0===o&&(o=n.config.dateFormat),0!==e&&!e||e instanceof Array&&0===e.length)return n.clear(t);Q(e,o),n.latestSelectedDateObj=n.selectedDates[n.selectedDates.length-1],n.redraw(),h(void 0,t),c(),0===n.selectedDates.length&&n.clear(!1),X(t),t&&J("onChange")},n.toggle=function(e){if(!0===n.isOpen)return n.close();n.open(e)};var U={locale:[B,x],showMonths:[M,r,S],minDate:[h],maxDate:[h],positionElement:[q],clickOpens:[function(){!0===n.config.clickOpens?(l(n._input,"focus",n.open),l(n._input,"click",n.open)):(n._input.removeEventListener("focus",n.open),n._input.removeEventListener("click",n.open))}]};function Q(e,t){var o=[];if(e instanceof Array)o=e.map((function(e){return n.parseDate(e,t)}));else if(e instanceof Date||"number"==typeof e)o=[n.parseDate(e,t)];else if("string"==typeof e)switch(n.config.mode){case"single":case"time":o=[n.parseDate(e,t)];break;case"multiple":o=e.split(n.config.conjunction).map((function(e){return n.parseDate(e,t)}));break;case"range":o=e.split(n.l10n.rangeSeparator).map((function(e){return n.parseDate(e,t)}))}else n.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(e)));n.selectedDates=n.config.allowInvalidPreload?o:o.filter((function(e){return e instanceof Date&&L(e,!1)})),"range"===n.config.mode&&n.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()}))}function G(e){return e.slice().map((function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date?n.parseDate(e,void 0,!0):e&&"object"==typeof e&&e.from&&e.to?{from:n.parseDate(e.from,void 0),to:n.parseDate(e.to,void 0)}:e})).filter((function(e){return e}))}function q(){n._positionElement=n.config.positionElement||n._input}function J(e,t){if(void 0!==n.config){var o=n.config[e];if(void 0!==o&&o.length>0)for(var i=0;o[i]&&i<o.length;i++)o[i](n.selectedDates,n.input.value,n,t);"onChange"===e&&(n.input.dispatchEvent(z("change")),n.input.dispatchEvent(z("input")))}}function z(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function K(e){for(var t=0;t<n.selectedDates.length;t++){var o=n.selectedDates[t];if(o instanceof Date&&0===Ri(o,e))return""+t}return!1}function Z(){n.config.noCalendar||n.isMobile||!n.monthNav||(n.yearElements.forEach((function(e,t){var o=new Date(n.currentYear,n.currentMonth,1);o.setMonth(n.currentMonth+t),n.config.showMonths>1||"static"===n.config.monthSelectorType?n.monthElements[t].textContent=Li(o.getMonth(),n.config.shorthandCurrentMonth,n.l10n)+" ":n.monthsDropdownContainer.value=o.getMonth().toString(),e.value=o.getFullYear().toString()})),n._hidePrevMonthArrow=void 0!==n.config.minDate&&(n.currentYear===n.config.minDate.getFullYear()?n.currentMonth<=n.config.minDate.getMonth():n.currentYear<n.config.minDate.getFullYear()),n._hideNextMonthArrow=void 0!==n.config.maxDate&&(n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth+1>n.config.maxDate.getMonth():n.currentYear>n.config.maxDate.getFullYear()))}function V(e){var t=e||(n.config.altInput?n.config.altFormat:n.config.dateFormat);return n.selectedDates.map((function(e){return n.formatDate(e,t)})).filter((function(e,t,o){return"range"!==n.config.mode||n.config.enableTime||o.indexOf(e)===t})).join("range"!==n.config.mode?n.config.conjunction:n.l10n.rangeSeparator)}function X(e){void 0===e&&(e=!0),void 0!==n.mobileInput&&n.mobileFormatStr&&(n.mobileInput.value=void 0!==n.latestSelectedDateObj?n.formatDate(n.latestSelectedDateObj,n.mobileFormatStr):""),n.input.value=V(n.config.dateFormat),void 0!==n.altInput&&(n.altInput.value=V(n.config.altFormat)),!1!==e&&J("onValueUpdate")}function ee(e){var t=Ti(e),o=n.prevMonthNav.contains(t),i=n.nextMonthNav.contains(t);o||i?k(o?-1:1):n.yearElements.indexOf(t)>=0?t.select():t.classList.contains("arrowUp")?n.changeYear(n.currentYear+1):t.classList.contains("arrowDown")&&n.changeYear(n.currentYear-1)}return function(){n.element=n.input=e,n.isOpen=!1,function(){var o=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],r=Wi(Wi({},JSON.parse(JSON.stringify(e.dataset||{}))),t),a={};n.config.parseDate=r.parseDate,n.config.formatDate=r.formatDate,Object.defineProperty(n.config,"enable",{get:function(){return n.config._enable},set:function(e){n.config._enable=G(e)}}),Object.defineProperty(n.config,"disable",{get:function(){return n.config._disable},set:function(e){n.config._disable=G(e)}});var s="time"===r.mode;if(!r.dateFormat&&(r.enableTime||s)){var c=Ji.defaultConfig.dateFormat||vi.dateFormat;a.dateFormat=r.noCalendar||s?"H:i"+(r.enableSeconds?":S":""):c+" H:i"+(r.enableSeconds?":S":"")}if(r.altInput&&(r.enableTime||s)&&!r.altFormat){var d=Ji.defaultConfig.altFormat||vi.altFormat;a.altFormat=r.noCalendar||s?"h:i"+(r.enableSeconds?":S K":" K"):d+" h:i"+(r.enableSeconds?":S":"")+" K"}Object.defineProperty(n.config,"minDate",{get:function(){return n.config._minDate},set:R("min")}),Object.defineProperty(n.config,"maxDate",{get:function(){return n.config._maxDate},set:R("max")});var u=function(e){return function(t){n.config["min"===e?"_minTime":"_maxTime"]=n.parseDate(t,"H:i:S")}};Object.defineProperty(n.config,"minTime",{get:function(){return n.config._minTime},set:u("min")}),Object.defineProperty(n.config,"maxTime",{get:function(){return n.config._maxTime},set:u("max")}),"time"===r.mode&&(n.config.noCalendar=!0,n.config.enableTime=!0),Object.assign(n.config,a,r);for(var l=0;l<o.length;l++)n.config[o[l]]=!0===n.config[o[l]]||"true"===n.config[o[l]];for(mi.filter((function(e){return void 0!==n.config[e]})).forEach((function(e){n.config[e]=Ei(n.config[e]||[]).map(i)})),n.isMobile=!n.config.disableMobile&&!n.config.inline&&"single"===n.config.mode&&!n.config.disable.length&&!n.config.enable&&!n.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),l=0;l<n.config.plugins.length;l++){var f=n.config.plugins[l](n)||{};for(var h in f)mi.indexOf(h)>-1?n.config[h]=Ei(f[h]).map(i).concat(n.config[h]):void 0===r[h]&&(n.config[h]=f[h])}r.altInputClass||(n.config.altInputClass=j().className+" "+n.config.altInputClass),J("onParseConfig")}(),B(),n.input=j(),n.input?(n.input._type=n.input.type,n.input.type="text",n.input.classList.add("flatpickr-input"),n._input=n.input,n.config.altInput&&(n.altInput=Si(n.input.nodeName,n.config.altInputClass),n._input=n.altInput,n.altInput.placeholder=n.input.placeholder,n.altInput.disabled=n.input.disabled,n.altInput.required=n.input.required,n.altInput.tabIndex=n.input.tabIndex,n.altInput.type="text",n.input.setAttribute("type","hidden"),!n.config.static&&n.input.parentNode&&n.input.parentNode.insertBefore(n.altInput,n.input.nextSibling)),n.config.allowInput||n._input.setAttribute("readonly","readonly"),q()):n.config.errorHandler(new Error("Invalid input element specified")),function(){n.selectedDates=[],n.now=n.parseDate(n.config.now)||new Date;var e=n.config.defaultDate||("INPUT"!==n.input.nodeName&&"TEXTAREA"!==n.input.nodeName||!n.input.placeholder||n.input.value!==n.input.placeholder?n.input.value:null);e&&Q(e,n.config.dateFormat),n._initialDate=n.selectedDates.length>0?n.selectedDates[0]:n.config.minDate&&n.config.minDate.getTime()>n.now.getTime()?n.config.minDate:n.config.maxDate&&n.config.maxDate.getTime()<n.now.getTime()?n.config.maxDate:n.now,n.currentYear=n._initialDate.getFullYear(),n.currentMonth=n._initialDate.getMonth(),n.selectedDates.length>0&&(n.latestSelectedDateObj=n.selectedDates[0]),void 0!==n.config.minTime&&(n.config.minTime=n.parseDate(n.config.minTime,"H:i")),void 0!==n.config.maxTime&&(n.config.maxTime=n.parseDate(n.config.maxTime,"H:i")),n.minDateHasTime=!!n.config.minDate&&(n.config.minDate.getHours()>0||n.config.minDate.getMinutes()>0||n.config.minDate.getSeconds()>0),n.maxDateHasTime=!!n.config.maxDate&&(n.config.maxDate.getHours()>0||n.config.maxDate.getMinutes()>0||n.config.maxDate.getSeconds()>0)}(),n.utils={getDaysInMonth:function(e,t){return void 0===e&&(e=n.currentMonth),void 0===t&&(t=n.currentYear),1===e&&(t%4==0&&t%100!=0||t%400==0)?29:n.l10n.daysInMonth[e]}},n.isMobile||function(){var e=window.document.createDocumentFragment();if(n.calendarContainer=Si("div","flatpickr-calendar"),n.calendarContainer.tabIndex=-1,!n.config.noCalendar){if(e.appendChild((n.monthNav=Si("div","flatpickr-months"),n.yearElements=[],n.monthElements=[],n.prevMonthNav=Si("span","flatpickr-prev-month"),n.prevMonthNav.innerHTML=n.config.prevArrow,n.nextMonthNav=Si("span","flatpickr-next-month"),n.nextMonthNav.innerHTML=n.config.nextArrow,M(),Object.defineProperty(n,"_hidePrevMonthArrow",{get:function(){return n.__hidePrevMonthArrow},set:function(e){n.__hidePrevMonthArrow!==e&&(Mi(n.prevMonthNav,"flatpickr-disabled",e),n.__hidePrevMonthArrow=e)}}),Object.defineProperty(n,"_hideNextMonthArrow",{get:function(){return n.__hideNextMonthArrow},set:function(e){n.__hideNextMonthArrow!==e&&(Mi(n.nextMonthNav,"flatpickr-disabled",e),n.__hideNextMonthArrow=e)}}),n.currentYearElement=n.yearElements[0],Z(),n.monthNav)),n.innerContainer=Si("div","flatpickr-innerContainer"),n.config.weekNumbers){var t=function(){n.calendarContainer.classList.add("hasWeeks");var e=Si("div","flatpickr-weekwrapper");e.appendChild(Si("span","flatpickr-weekday",n.l10n.weekAbbreviation));var t=Si("div","flatpickr-weeks");return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}(),o=t.weekWrapper,i=t.weekNumbers;n.innerContainer.appendChild(o),n.weekNumbers=i,n.weekWrapper=o}n.rContainer=Si("div","flatpickr-rContainer"),n.rContainer.appendChild(S()),n.daysContainer||(n.daysContainer=Si("div","flatpickr-days"),n.daysContainer.tabIndex=-1),D(),n.rContainer.appendChild(n.daysContainer),n.innerContainer.appendChild(n.rContainer),e.appendChild(n.innerContainer)}n.config.enableTime&&e.appendChild(function(){n.calendarContainer.classList.add("hasTime"),n.config.noCalendar&&n.calendarContainer.classList.add("noCalendar");var e=$i(n.config);n.timeContainer=Si("div","flatpickr-time"),n.timeContainer.tabIndex=-1;var t=Si("span","flatpickr-time-separator",":"),o=Oi("flatpickr-hour",{"aria-label":n.l10n.hourAriaLabel});n.hourElement=o.getElementsByTagName("input")[0];var i=Oi("flatpickr-minute",{"aria-label":n.l10n.minuteAriaLabel});if(n.minuteElement=i.getElementsByTagName("input")[0],n.hourElement.tabIndex=n.minuteElement.tabIndex=-1,n.hourElement.value=wi(n.latestSelectedDateObj?n.latestSelectedDateObj.getHours():n.config.time_24hr?e.hours:function(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}(e.hours)),n.minuteElement.value=wi(n.latestSelectedDateObj?n.latestSelectedDateObj.getMinutes():e.minutes),n.hourElement.setAttribute("step",n.config.hourIncrement.toString()),n.minuteElement.setAttribute("step",n.config.minuteIncrement.toString()),n.hourElement.setAttribute("min",n.config.time_24hr?"0":"1"),n.hourElement.setAttribute("max",n.config.time_24hr?"23":"12"),n.hourElement.setAttribute("maxlength","2"),n.minuteElement.setAttribute("min","0"),n.minuteElement.setAttribute("max","59"),n.minuteElement.setAttribute("maxlength","2"),n.timeContainer.appendChild(o),n.timeContainer.appendChild(t),n.timeContainer.appendChild(i),n.config.time_24hr&&n.timeContainer.classList.add("time24hr"),n.config.enableSeconds){n.timeContainer.classList.add("hasSeconds");var r=Oi("flatpickr-second");n.secondElement=r.getElementsByTagName("input")[0],n.secondElement.value=wi(n.latestSelectedDateObj?n.latestSelectedDateObj.getSeconds():e.seconds),n.secondElement.setAttribute("step",n.minuteElement.getAttribute("step")),n.secondElement.setAttribute("min","0"),n.secondElement.setAttribute("max","59"),n.secondElement.setAttribute("maxlength","2"),n.timeContainer.appendChild(Si("span","flatpickr-time-separator",":")),n.timeContainer.appendChild(r)}return n.config.time_24hr||(n.amPM=Si("span","flatpickr-am-pm",n.l10n.amPM[Di((n.latestSelectedDateObj?n.hourElement.value:n.config.defaultHour)>11)]),n.amPM.title=n.l10n.toggleTitle,n.amPM.tabIndex=-1,n.timeContainer.appendChild(n.amPM)),n.timeContainer}()),Mi(n.calendarContainer,"rangeMode","range"===n.config.mode),Mi(n.calendarContainer,"animate",!0===n.config.animate),Mi(n.calendarContainer,"multiMonth",n.config.showMonths>1),n.calendarContainer.appendChild(e);var r=void 0!==n.config.appendTo&&void 0!==n.config.appendTo.nodeType;if((n.config.inline||n.config.static)&&(n.calendarContainer.classList.add(n.config.inline?"inline":"static"),n.config.inline&&(!r&&n.element.parentNode?n.element.parentNode.insertBefore(n.calendarContainer,n._input.nextSibling):void 0!==n.config.appendTo&&n.config.appendTo.appendChild(n.calendarContainer)),n.config.static)){var a=Si("div","flatpickr-wrapper");n.element.parentNode&&n.element.parentNode.insertBefore(a,n.element),a.appendChild(n.element),n.altInput&&a.appendChild(n.altInput),a.appendChild(n.calendarContainer)}n.config.static||n.config.inline||(void 0!==n.config.appendTo?n.config.appendTo:window.document.body).appendChild(n.calendarContainer)}(),function(){if(n.config.wrap&&["open","close","toggle","clear"].forEach((function(e){Array.prototype.forEach.call(n.element.querySelectorAll("[data-"+e+"]"),(function(t){return l(t,"click",n[e])}))})),n.isMobile)!function(){var e=n.config.enableTime?n.config.noCalendar?"time":"datetime-local":"date";n.mobileInput=Si("input",n.input.className+" flatpickr-mobile"),n.mobileInput.tabIndex=1,n.mobileInput.type=e,n.mobileInput.disabled=n.input.disabled,n.mobileInput.required=n.input.required,n.mobileInput.placeholder=n.input.placeholder,n.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",n.selectedDates.length>0&&(n.mobileInput.defaultValue=n.mobileInput.value=n.formatDate(n.selectedDates[0],n.mobileFormatStr)),n.config.minDate&&(n.mobileInput.min=n.formatDate(n.config.minDate,"Y-m-d")),n.config.maxDate&&(n.mobileInput.max=n.formatDate(n.config.maxDate,"Y-m-d")),n.input.getAttribute("step")&&(n.mobileInput.step=String(n.input.getAttribute("step"))),n.input.type="hidden",void 0!==n.altInput&&(n.altInput.type="hidden");try{n.input.parentNode&&n.input.parentNode.insertBefore(n.mobileInput,n.input.nextSibling)}catch(e){}l(n.mobileInput,"change",(function(e){n.setDate(Ti(e).value,!1,n.mobileFormatStr),J("onChange"),J("onClose")}))}();else{var e=Ci(P,50);if(n._debouncedChange=Ci(f,Qi),n.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&l(n.daysContainer,"mouseover",(function(e){"range"===n.config.mode&&_(Ti(e))})),l(n._input,"keydown",F),void 0!==n.calendarContainer&&l(n.calendarContainer,"keydown",F),n.config.inline||n.config.static||l(window,"resize",e),void 0!==window.ontouchstart?l(window.document,"touchstart",T):l(window.document,"mousedown",T),l(window.document,"focus",T,{capture:!0}),!0===n.config.clickOpens&&(l(n._input,"focus",n.open),l(n._input,"click",n.open)),void 0!==n.daysContainer&&(l(n.monthNav,"click",ee),l(n.monthNav,["keyup","increment"],u),l(n.daysContainer,"click",W)),void 0!==n.timeContainer&&void 0!==n.minuteElement&&void 0!==n.hourElement){l(n.timeContainer,["increment"],a),l(n.timeContainer,"blur",a,{capture:!0}),l(n.timeContainer,"click",g),l([n.hourElement,n.minuteElement],["focus","click"],(function(e){return Ti(e).select()})),void 0!==n.secondElement&&l(n.secondElement,"focus",(function(){return n.secondElement&&n.secondElement.select()})),void 0!==n.amPM&&l(n.amPM,"click",(function(e){a(e)}))}n.config.allowInput&&l(n._input,"blur",A)}}(),(n.selectedDates.length||n.config.noCalendar)&&(n.config.enableTime&&c(n.config.noCalendar?n.latestSelectedDateObj:void 0),X(!1)),r();var o=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!n.isMobile&&o&&Y(),J("onReady")}(),n}function qi(e,t){for(var n=Array.prototype.slice.call(e).filter((function(e){return e instanceof HTMLElement})),o=[],i=0;i<n.length;i++){var r=n[i];try{if(null!==r.getAttribute("data-fp-omit"))continue;void 0!==r._flatpickr&&(r._flatpickr.destroy(),r._flatpickr=void 0),r._flatpickr=Gi(r,t||{}),o.push(r._flatpickr)}catch(e){console.error(e)}}return 1===o.length?o[0]:o}"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return qi(this,e)},HTMLElement.prototype.flatpickr=function(e){return qi([this],e)});var Ji=function(e,t){return"string"==typeof e?qi(window.document.querySelectorAll(e),t):e instanceof Node?qi([e],t):qi(e,t)};Ji.defaultConfig={},Ji.l10ns={en:Wi({},yi),default:Wi({},yi)},Ji.localize=function(e){Ji.l10ns.default=Wi(Wi({},Ji.l10ns.default),e)},Ji.setDefaults=function(e){Ji.defaultConfig=Wi(Wi({},Ji.defaultConfig),e)},Ji.parseDate=Pi({}),Ji.formatDate=_i({}),Ji.compareDates=Ri,"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(e){return qi(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))},"undefined"!=typeof window&&(window.flatpickr=Ji);const zi=Ji;function Ki(e,t){const n={};return n.form=function(e,t){const n=yn("form",t),o=document.createElement("fieldset");n.appendChild(o);const i=document.createElement("legend");i.textContent=e,o.appendChild(i);const r=yn("div","form-overlay");return n.appendChild(r),n}(e,t),n.formOverlay=fo(n.form,".form-overlay"),n.additionalCloseModalFns=[],n.closeByKeyboard=function(e){if("Escape"===e.key){if(po(n.formOverlay,"visible"))return;n.closeModal()}},n.closeByClickOutside=function(e){e.target===Ln.modal&&n.closeModal()},n.defaultCloseModalFn=function(){Ln.modal.removeEventListener("keyup",n.closeByKeyboard),Ln.modal.removeEventListener("mousedown",n.closeByClickOutside),po(Ln.header,"mobile")&&po(Ln.header,"visible")||Oo(),vo(Ln.modal,"show"),vo(Ln.body,"overlay-over"),n.form.remove()},n.addAdditionalCloseModalFn=function(e){n.additionalCloseModalFns.push(e)},n.closeModal=function(){n.additionalCloseModalFns.forEach((e=>e())),n.defaultCloseModalFn()},n.initModal=function(){Ln.modal.addEventListener("keyup",n.closeByKeyboard),Ln.modal.addEventListener("mousedown",n.closeByClickOutside),lo(Ln.modal,n.form),mo(Ln.modal,"show"),po(Ln.header,"mobile")&&po(Ln.header,"visible")||ko()},n}function Zi(e,t){const n=Object.create(Ki(e,t));return n.fieldset=fo(n.form,"fieldset"),n.modalActions=function(){const e=yn("div","modal-actions"),t=Dn("Cancel");t.classList.add("close-modal"),t.setAttribute("type","button"),e.appendChild(t);const n=Dn("Add");return n.classList.add("submit-modal"),e.appendChild(n),e}(),n.closeButton=fo(n.modalActions,".close-modal"),n.submitButton=fo(n.modalActions,".submit-modal"),n.submitModalFn=null,n.setSubmitModalFn=function(e){n.submitModalFn=e},n.submitModalHandler=function(e){n.submitModalFn(e)},n.modifySubmitButton=function(e,t){e&&yo(n.submitButton,e),t&&mo(n.submitButton,t)},n.closeModalFn=function(){n.closeButton.removeEventListener("click",n.closeModalHandler),n.submitButton.removeEventListener("click",n.submitModalHandler)},n.initFormModal=function(){n.initModal(),n.closeButton.addEventListener("click",n.closeModal),n.submitButton.addEventListener("click",n.submitModalHandler),lo(n.form,n.modalActions),Eo(n.submitButton),n.addAdditionalCloseModalFn(n.closeModalFn)},n}function Vi(){const e=Object.create(Zi("Todo details","todo-form"));return e.textAreasContainer=yn("div","text-areas-container"),e.titleInputContainer=On("title","title","todo-title",{minlength:"1",maxlength:"500",placeholder:"Todo title",rows:"1"}),e.titleInput=fo(e.titleInputContainer,"textarea"),e.descriptionInputContainer=On("description","description","todo-description",{maxlength:"500",placeholder:"Description",rows:"1",cols:"1"}),e.descriptionInput=fo(e.descriptionInputContainer,"textarea"),e.prioritiesFieldset=function(){const e=yn("fieldset","priorities-fieldset"),t=yn("legend","priorities-legend");t.textContent="Priority",e.appendChild(t);const n=Tn("priority-one","priority","1","Priority 1");e.appendChild(n);const o=Tn("priority-two","priority","2","Priority 2");e.appendChild(o);const i=Tn("priority-three","priority","3","Priority 3");return e.appendChild(i),e}(),e.priorityCheckboxes=ho(e.prioritiesFieldset,"input"),e.dueDateInputContainer=xn("dueDate","due-date","todo-due-date","text",{placeholder:"Due date"}),e.dueDateInput=fo(e.dueDateInputContainer,"input"),e.datePicker=new zi(e.dueDateInput,{minDate:Ce(new Date,"yyyy-MM-dd"),maxDate:"",defaultDate:"",disableMobile:!0,static:!0,onOpen(){e.showCalendar()}}),e.clearDueDateButton=In("Clear selected due date","clear-date"),e.categoryInputContainer=function(){const e=yn("div","input-container");e.classList.add("category");const t=Dn("Category");return t.classList.add("categories-dropdown-button"),t.setAttribute("type","button"),t.setAttribute("aria-label","Todo category: none. Click this button to select a category for this todo"),e.appendChild(t),e}(),e.categorySelectButton=fo(e.categoryInputContainer,"button"),e.clearCategoryButton=In("Clear selected category","clear-category"),e.trap=null,e.setTrap=function(t){e.trap=t},e.changeEnterKeyBehavior=function(t){if(("Enter"!==t.key||!t.shiftKey)&&"Enter"===t.key){if(t.preventDefault(),e.submitButton.disabled)return;e.submitButton.dispatchEvent(new Event("click"))}},e.selectCategory=function(t,n){e.categorySelectButton.dataset.id=t,yo(e.categorySelectButton,n),e.categorySelectButton.setAttribute("aria-label",`Todo category: ${n}. Click this button to change the category of this todo`),vo(e.categorySelectButton,"empty")},e.selectDate=function(t){e.dueDateInput.value=`${Oe(t)} / ${t}`},e.checkInput=function(){const t=e.textAreasContainer.scrollTop;if(this.style.height="auto",this.style.height=`${this.scrollHeight}px`,e.textAreasContainer.scrollTo(0,t),this===e.titleInput){if(this.value.match(/([a-zA-Z0-9)]){1,}/g))return void Co(e.submitButton);Eo(e.submitButton)}},e.scrollIntoView=function(){Ln.mobileVersion.matches&&(this.blur(),this===e.descriptionInput&&e.textAreasContainer.scrollTo(0,e.textAreasContainer.scrollHeight),this.focus({preventScroll:!0}))},e.preventMultipleCheckboxes=function(){this.checked&&(e.priorityCheckboxes.forEach((e=>{e.checked=!1})),this.checked=!0)},e.replaceInput=function(){e.dueDateInput.value&&(e.dueDateInput.value=`${Oe(e.dueDateInput.value)} / ${e.dueDateInput.value}`)},e.clearDateInput=function(){e.datePicker.clear()},e.showCalendar=function(){function t(e){"Escape"!==e.key&&"Tab"!==e.key||n(e)}function n(o){po(o.target,"active")||(vo(e.dueDateInput,"focused"),e.dueDateInput.removeEventListener("change",n),vo(e.formOverlay,"visible"),e.formOverlay.removeEventListener("click",n),document.removeEventListener("keyup",t))}Io(fo(e.form,".flatpickr-calendar"),325),mo(e.dueDateInput,"focused"),document.addEventListener("keyup",t),e.dueDateInput.addEventListener("change",n),mo(e.formOverlay,"visible"),e.formOverlay.addEventListener("click",n)},e.requestCategoriesDropdown=function(){C().publish("CATEGORIES_DROPDOWN_REQUEST")},e.clearCategory=function(){e.categorySelectButton.dataset.id="",yo(e.categorySelectButton,"Category"),mo(e.categorySelectButton,"empty")},e.closeModalFn=function(){e.trap.deactivate(),e.titleInput.removeEventListener("input",e.checkInput),e.titleInput.removeEventListener("keydown",e.changeEnterKeyBehavior),e.descriptionInput.removeEventListener("input",e.checkInput),e.descriptionInput.removeEventListener("keydown",e.changeEnterKeyBehavior),e.descriptionInput.removeEventListener("click",e.scrollIntoView),e.priorityCheckboxes.forEach((t=>{t.removeEventListener("change",e.preventMultipleCheckboxes)})),e.dueDateInput.removeEventListener("change",e.replaceInput),e.clearDueDateButton.removeEventListener("click",e.clearDateInput),e.datePicker.destroy(),e.categorySelectButton.removeEventListener("click",e.requestCategoriesDropdown),e.clearCategoryButton.removeEventListener("click",e.clearCategory)},e.initTodoFormModal=function(){e.initFormModal(),e.addAdditionalCloseModalFn(e.closeModalFn),lo(e.fieldset,e.textAreasContainer),e.titleInput.addEventListener("input",e.checkInput),e.titleInput.addEventListener("keydown",e.changeEnterKeyBehavior),lo(e.textAreasContainer,e.titleInputContainer),e.descriptionInput.addEventListener("input",e.checkInput),e.descriptionInput.addEventListener("keydown",e.changeEnterKeyBehavior),e.descriptionInput.addEventListener("click",e.scrollIntoView),lo(e.textAreasContainer,e.descriptionInputContainer),lo(e.fieldset,e.prioritiesFieldset),e.priorityCheckboxes.forEach((t=>{t.addEventListener("change",e.preventMultipleCheckboxes)})),lo(e.fieldset,e.dueDateInputContainer),e.dueDateInput.addEventListener("change",e.replaceInput),e.clearDueDateButton.addEventListener("click",e.clearDateInput),lo(e.dueDateInputContainer,e.clearDueDateButton),lo(e.fieldset,e.categoryInputContainer),e.categorySelectButton.addEventListener("click",e.requestCategoriesDropdown),mo(e.categorySelectButton,"empty"),e.clearCategoryButton.addEventListener("click",e.clearCategory),lo(e.categoryInputContainer,e.clearCategoryButton)},e}function Xi(e,t){const n=function(e,t){const n=Object.create(Vi());return n.submitModalFn=function(e){e.preventDefault();const t=new FormData(n.form),o=t.get("dueDate")?t.get("dueDate").split("/")[1].trim():t.get("dueDate"),i=n.categorySelectButton.dataset.id,r=i?n.categorySelectButton.textContent:"";n.closeModal(),C().publish("ADD_TODO_REQUEST",{title:t.get("title").trim(),description:t.get("description").trim(),priority:t.get("priority"),dueDate:o,categoryID:i,categoryName:r})},n.initAddTodoModal=function(){if(n.initTodoFormModal(),"today"===e&&(n.datePicker.set("maxDate",Ce(new Date,"yyyy-MM-dd")),n.selectDate(Ce(new Date,"yyyy-MM-dd"),!0)),"this-week"===e&&(n.datePicker.set("maxDate",Ce(function(e,t){const n=E(e);return isNaN(t)?Z(e,NaN):t?(n.setDate(n.getDate()+t),n):n}(new Date,7),"yyyy-MM-dd")),n.selectDate(Ce(new Date,"yyyy-MM-dd"),!0)),"user-category"===e){const[e,o]=t;n.selectCategory(e,o)}n.setTrap(uo(n.form,{initialFocus:()=>Ln.modal,allowOutsideClick:()=>!0,escapeDeactivates:()=>!1,returnFocusOnDeactivate:()=>!0,preventScroll:()=>!0})),n.trap.activate(),n.setSubmitModalFn(n.submitModalFn)},n}(e,t);n.initAddTodoModal()}function er(e){po(e.target,"add-button")?C().publish("TODO_MODAL_REQUEST",go(e.target).dataset.id):Xi("all-todos")}function tr(e){const t=Object.create(Zi("Delete confirmation","delete-modal"));return t.deleteParagraph=yn("p","delete-modal-paragraph"),t.trap=uo(t.form,{allowOutsideClick:()=>!0,escapeDeactivates:()=>!1,returnFocusOnDeactivate:()=>!0}),t.transformString=function(e){const t=Array.from(e);if(t.length>49){t.splice(49);for(let e=0;e<3;e+=1)t.push(".")}return t.join("")},t.closeModalFn=function(){t.trap.deactivate()},t.initDeleteConfirmationModal=function(){t.initFormModal(),lo(t.fieldset,t.deleteParagraph),t.deleteParagraph.innerHTML=`Are you sure you want to permanently delete <strong>${t.transformString(e)}</strong> ? `,t.modifySubmitButton("Delete","confirm-delete-button"),Co(t.submitButton),t.trap.activate(),t.addAdditionalCloseModalFn(t.closeModalFn)},t}function nr(e){const t=Object.create(Fo(e));return t.containerTitle=yn("h4","settings-list-title"),t.initCategoryOrganizeMenu=function(){t.initContextMenu(),t.container.insertBefore(t.containerTitle,t.settingsList)},t}function or(e,t){document.dispatchEvent(new Event("click"));const n=function(e,t){const n=nr(fo(Ln.sortSetting,"button"));return n.handleSettingItemsClickEvents=function(e){po(e.target,"named-button")&&(C().publish("SORT_TODOS_REQUEST",e.target.dataset.id),n.deleteSettings(e))},n.deleteSettingsFn=function(){n.settingsList.removeEventListener("click",n.handleSettingItemsClickEvents)},n.initCategorySortMenu=function(){n.initCategoryOrganizeMenu(),yo(n.containerTitle,"Sort by"),n.settingsList.addEventListener("click",n.handleSettingItemsClickEvents),t&&t.forEach((t=>{const o=Sn(xe(t.split("-").join(" ")),"sort-todos",t);fo(o,"button").dataset.id===e&&mo(fo(o,"button"),"selected"),lo(n.settingsList,o)})),n.addAdditionalDeleteSettingsFn(n.deleteSettingsFn),n.trap.activate()},n}(e,t);n.initCategorySortMenu()}function ir(){return Pt(Mo()).getCurrentSortingMethod()}function rr(){return Pt(Mo()).getCurrentFilterMethod()}function ar(e){(function(e,t,n){const o=function(e,t,n){const o=yn("li","todo-item");o.setAttribute("tabindex","0"),o.classList.add("todo-item"),o.dataset.id=e,o.dataset.index=t;const i=yn("div","todo-info");o.appendChild(i);const r=Ct(),a=yn("label","todo-completed-status");a.textContent="The todo has been completed",a.setAttribute("for",r),i.appendChild(a);const s=wn("input",r);s.setAttribute("type","checkbox"),s.setAttribute("name","todoCompletedStatus"),a.appendChild(s);const c=document.createElement("span");a.appendChild(c);const d=yn("h3","todo-title");i.appendChild(d),d.textContent=n;const u=Mn("Edit todo");return i.appendChild(u),o}(e,t,n);Nn[Mo()].insertBefore(o,fo(Nn[Mo()],`[data-index="${t}"]`))})(e.get("id"),e.get("index"),e.get("title")),e.hasAdditionalInfo()&&(zo(e.get("id")),e.get("priority")&&Vo(e.get("id"),e.get("priority")),e.get("dueDate")&&Xo(e.get("id"),Oe(e.get("dueDate")))),e.get("filteredOut")&&pi("out",e.get("id"))}function sr(e,t){Ut(e,t),Ro(t,jt(t).length),Mo()===t&&($t(t),ar(e),jt(t).forEach((e=>qo(e.get("id"),e.get("index")))))}function cr(e,t){var n;(function(e,t){var n,o;Rt(t)?Ht(e,t):Pt(t).removeTodo(e),Nt()&&(o=e.get("id"),!At[0].getTodos().find((e=>e.get("id")===o)))&&(n=e.get("id"),localStorage.removeItem(`todo-${n}`))})(e,t),Ro(t,jt(t).length),Mo()===t&&($t(t),n=e.get("id"),fo(Nn[Mo()],`[data-id="${n}"]`).remove(),jt(t).forEach((e=>{qo(e.get("id"),e.get("index"))})))}function dr(e){Ie(Wt(e),cr)}function ur(e){const t=Wt(e);Lo(e)&&t.hasAdditionalInfo()&&(function(e){const t=fo(Ln.main,`[data-id="${e}"]`),n=fo(t,".expand-button");n.setAttribute("aria-label","Hide todo additional info");const o=yn("div","todo-additional-info");t.insertBefore(o,n),mo(t,"expanded")}(e),t.get("description")&&ni(e,t.get("description")),t.get("priority")&&ri(e,t.get("priority")),t.get("dueDate")&&ci(e,t.get("dueDate")),t.get("categoryID")&&li(e,t.get("categoryName")))}function lr(e){Lo(e.get("id"))&&(!e.hasAdditionalInfo()||Ao(e.get("id"))?!e.hasAdditionalInfo()&&Ao(e.get("id"))&&function(e){var t;(function(e){const t=fo(Nn[Mo()],`[data-id="${e}"]`);fo(t,".expand-button").remove()})(e.get("id")),No(e.get("id"))&&(Ko(e.get("id")),t=e.get("id"),fo(Ln.main,`[data-id="${t}"]`).dispatchEvent(new Event("transitionend")))}(e):zo(e.get("id")))}function fr(e){const t=Wt(e),n=t.get("index");$t(Mo()),t.get("index")>n?Jo(t.get("id"),t.get("index")+1):Jo(t.get("id"),t.get("index")),t.get("filteredOut")?pi("out",e):pi("in",e),jt(Mo()).forEach((e=>{qo(e.get("id"),e.get("index"))}))}function hr(e,t){const n=f(t.get("dueDate"));t.get("dueDate")&&Te(e,n)||!Bt(e,t.get("id"))?!Bt(e,t.get("id"))&&Te(e,n)&&sr(t,e):cr(t,e)}function gr(e,t,n,o,i,r){t&&!n&&o(e.get("id"),t),t&&n&&i(e.get("id"),t),!t&&n&&r(e.get("id"))}function pr(e,t,n,o,i,r){const a=Wt(e);a.get("title")!==t&&function(e,t){var n;Yt(e,"title",t),Lo(e.get("id"))&&(n=t,yo(fo(So(e.get("id")),".todo-title"),n),"name"===ir()&&fr(e.get("id")))}(a,t,a.get("title")),a.get("description")!==n&&function(e,t,n){Yt(e,"description",t),No(e.get("id"))&&gr(e,t,n,ni,oi,ii)}(a,n,a.get("description")),a.get("priority")!==o&&function(e,t,n){Yt(e,"priority",t),Lo(e.get("id"))&&(Vo(e.get("id"),t),No(e.get("id"))&&gr(e,t,n,ri,ai,si),("priority"===ir()||/priority.*/.test(rr()))&&fr(e.get("id")))}(a,o,a.get("priority")),a.get("dueDate")!==i&&function(e,t,n){Yt(e,"dueDate",t);const o=e.get("overdueStatus");var i;o&&Yt(e,"overdueStatus",!1),Yt(e,"miniDueDate",Oe(t)),hr("today",e),hr("this-week",e),Lo(e.get("id"))&&(o&&(i=e.get("id"),vo(fo(Nn[Mo()],`[data-id="${i}"]`),"overdue")),gr(e,e.get("miniDueDate"),Oe(n),Xo,ei,ti),No(e.get("id"))&&gr(e,t,n,ci,di,ui),"due-date"===ir()&&fr(e.get("id")))}(a,i,a.get("dueDate")),a.get("categoryID")!==r&&function(e,t,n){if(t&&!Rt(t))return;const o=e.get("categoryName"),i=t?Rt(t).getName():"",r=()=>{e.set("categoryID",t),e.set("categoryName",i),sr(e,t)},a=()=>{e.set("categoryID",""),e.set("categoryName",""),cr(e,n)};t&&!n&&r(),t&&n&&(a(),r()),!t&&n&&a(),No(e.get("id"))&&gr(e,i,o,li,fi,hi)}(a,r,a.get("categoryID")),lr(a)}function mr(e){$t(e),function(e){mo(go(fo(Ln.devNavbarList,`[id="${e}"]`)||fo(Ln.userNavbarList,`[data-id="${e}"]`)),"selected")}(e),$o(Pt(e).getName()),Rt(e)&&function(){const e=Mn("Edit category");e.addEventListener("click",Ho),lo(Ln.contentSettings,e)}(),function(e){Ln.content.dataset.id=e,Nn[e]=yn("ul","todos-list"),Nn[e].addEventListener("click",Qo),Nn[e].addEventListener("change",Go),Ln.content.insertBefore(Nn[e],Ln.contentAddButton)}(e),"creation-date"!==ir()?Wo(!0):Wo(!1),"no-filter"!==rr()?Uo(!0):Uo(!1),jt(e).forEach((e=>{ar(e),e.get("completedStatus")&&Zo(e.get("id"),"completed"),e.get("overdueStatus")&&gi(e.get("id"))}))}function vr(e){e===Mo()&&(vo(fo(Ln.nav,".selected"),"selected"),Rt(e)&&function(){const e=fo(Ln.contentSettings,".settings-container");e.removeEventListener("click",Ho),e.remove()}(),function(e){Nn[e].removeEventListener("click",Qo),Nn[e].removeEventListener("change",Go),fo(Ln.content,".todos-list").remove(),Nn[e].remove(),Nn[e]=""}(e))}function br(e){Mo()!==e&&(Mo()&&vr(Mo()),mr(e))}function yr(e,t){const n=Rt(e);(function(e,t){const n=Pt(e);n.isEditable()&&(n.setName(t),Nt()&&(function(e,t){const n=JSON.parse(localStorage.getItem(`userCategory-${e}`));n.name=t,localStorage.setItem(`userCategory-${e}`,JSON.stringify(n))}(e,t),n.getTodos().forEach((e=>{Yt(e,"categoryName",t)}))))})(e,t),function(e,t){yo(fo(fo(Ln.userNavbarList,`[data-id="${e}"]`),".button-name"),t)}(e,t),Mo()===e&&$o(t),n.getTodos().forEach((e=>{No(e.get("id"))&&fi(e.get("id"),e.get("categoryName"))}))}function wr(e){const t=Rt(e).getTodos();Mo()===e&&br("all-todos"),function(e){const t=Pt(e);t.getTodos().forEach((t=>Ht(t,e))),Ft.splice(Ft.indexOf(t),1),Nt()&&function(e){localStorage.removeItem(`userCategory-${e}`)}(e)}(e),function(e){go(fo(Ln.userNavbarList,`[data-id="${e}"]`)).remove(),delete Nn[e]}(e),jo(_t().length),t.forEach((e=>{No(e.get("id"))&&(hi(e.get("id")),lr(e))}))}function Dr(e){if(!fo(Ln.modal,".search-container"))return;const t=(n=e,new mt(At[0].getTodos(),{keys:["title"],includeMatches:!0,threshold:.2}).search(n));var n;ho(fo(Ln.modal,"#search-results-list"),".anchor-todo-item").forEach((e=>{e.remove()})),t.forEach((e=>{(function(e,t){const n=fo(Ln.modal,"#search-results-list"),o=function(e,t){const n=yn("li","anchor-todo-item");n.dataset.id=e;const o=document.createElement("a");o.setAttribute("href",""),n.appendChild(o);const i=yn("div","todo-info");o.appendChild(i);const r=yn("h3","todo-title");return r.textContent=t,i.appendChild(r),n}(e,t);lo(n,o)})(e.item.get("id"),e.item.get("title")),e.item.get("completedStatus")&&function(e){const t=fo(Ln.modal,"#search-results-list");mo(fo(t,`[data-id= "${e}"]`),"completed")}(e.item.get("id"))}))}function Cr(e){if(!e)return;const t=Rt(e),n=t.getTodos().length>0;!function(e,t,n){(function(e,t,n){const o=Object.create(tr(t));return o.submitModalFn=function(t){t.preventDefault(),o.closeModal();const n=fo(o.fieldset,"#delete-todos");n&&n.checked&&C().publish("DELETE_CONTAINING_TODOS_REQUEST",e),C().publish("DELETE_CATEGORY_REQUEST",e)},o.initDeleteCategoryModal=function(){if(o.initDeleteConfirmationModal(),n){const e=function(){const e=yn("div","delete-todos-checkbox");e.textContent="Also delete containing todos";const t=document.createElement("label");t.textContent="Delete containing todos",t.setAttribute("for","delete-todos"),e.appendChild(t);const n=wn("input","delete-todos");n.setAttribute("type","checkbox"),n.setAttribute("name","deleteContainingTodos"),t.appendChild(n);const o=document.createElement("span");return t.appendChild(o),e}();lo(o.fieldset,e)}o.setSubmitModalFn(o.submitModalFn)},o})(e,t,n).initDeleteCategoryModal()}(e,t.getName(),n)}function Er(){jt("all-todos").forEach((e=>{if(!e.get("dueDate"))return;hr("today",e),hr("this-week",e);const t=e.get("miniDueDate"),n=Oe(e.get("dueDate"))||t;if(t!==n){if(Yt(e,"miniDueDate",n),!Lo(e.get("id")))return;ei(e.get("id"),e.get("miniDueDate"))}if(!1===e.get("overdueStatus")&&Te("overdue",f(e.get("dueDate")))){if(Yt(e,"overdueStatus",!0),!Lo(e.get("id")))return;gi(e.get("id"))}}))}C().subscribe("RENDER_RENAME_INPUT_REQUEST",((e,t)=>{const{callLocation:n,categoryID:o}=t;!function(e,t){const n=e.closest(".content-header-container")?Ln.contentTitle:fo(fo(Ln.userNavbarList,`[data-id="${t}"]`),".button-name"),o=function(e,t,n,o){const i={};return i.field=xn("New category name","name","category-edit-field","text"),i.input=fo(i.field,"input"),i.elementToReplace=null,i.trap=uo(i.field,{allowOutsideClick:()=>!0,escapeDeactivates:()=>!1,setReturnFocus:()=>e}),i.focusOnInput=function(){!function(e){const t=e;t.style.pointerEvents="none",t.style.touchEvents="none"}(Ln.body),Do(i.input)},i.preventPropagation=function(e){e.stopImmediatePropagation()},i.handleClickActions=function(){0!==i.input.value.trim().length?i.applyChanges():i.discardChanges()},i.handleKeyboardActions=function(e){if("Enter"===e.key){if(0===i.input.value.trim().length)return void i.discardChanges();i.applyChanges()}"Escape"===e.key&&i.discardChanges()},i.removeEvents=function(){i.input.removeEventListener("focus",i.focusOnInput),i.input.removeEventListener("mousedown",i.preventPropagation),document.removeEventListener("mousedown",i.handleClickActions),document.removeEventListener("keydown",i.handleKeyboardActions)},i.discardChanges=function(){i.trap.deactivate(),i.removeEvents(),Do(Ln.body),wo(n,i.field)},i.applyChanges=function(){i.discardChanges();const e=i.input.value.trim();C().publish("RENAME_CATEGORY_REQUEST",{categoryID:t,newName:e})},i.initRenameInput=function(){var e,t;wo(i.field,n),e=i.input,t=o,e.value=t,bo(i.input),i.input.addEventListener("focus",i.focusOnInput),i.input.addEventListener("mousedown",i.preventPropagation),document.addEventListener("mousedown",i.handleClickActions),document.addEventListener("keydown",i.handleKeyboardActions),i.trap.activate()},i}(e,t,n,n.textContent);o.initRenameInput()}(n,o)})),C().subscribe("ADD_TODO_REQUEST",((e,t)=>{const{title:n,description:o,priority:i,dueDate:r,categoryID:a,categoryName:s}=t;!function(e,t,n,o,i,r){Ie(Lt(e,t,n,o,o?Oe(o):"",i,r),sr)}(n,o,i,r,a,s)})),C().subscribe("DELETE_TODO_REQUEST",((e,t)=>{dr(t)})),C().subscribe("TODO_EXPAND_REQUEST",((e,t)=>{ur(t)})),C().subscribe("TODO_COMPLETED_STATUS_CHANGE_REQUEST",((e,t)=>{!function(e){const t=Wt(e);(function(e){e.toggleCompletedStatus(),Nt()&&function(e,t){const n=JSON.parse(localStorage.getItem(`todo-${e}`));n.completedStatus=t,localStorage.setItem(`todo-${e}`,JSON.stringify(n))}(e.get("id"),e.get("completedStatus"))})(t),Lo(e)&&("completed"!==rr()&&"uncompleted"!==rr()||fr(e),t.get("completedStatus")?Zo(e,"completed"):Zo(e,"uncompleted"))}(t)})),C().subscribe("EDIT_TODO_REQUEST",((e,t)=>{const{todoID:n,newTitle:o,newDescription:i,newPriority:r,newDueDate:a,newCategoryID:s}=t;pr(n,o,i,r,a,s)})),C().subscribe("DISPLAY_CONTENT_REQUEST",((e,t)=>{br(t)})),C().subscribe("CREATE_CATEGORY_REQUEST",((e,t)=>{!function(e){const t=Ot(e);(function(e){Ft.push(e),Nt()&&function(e,t){localStorage.setItem(`userCategory-${t}`,JSON.stringify(e))}(e,e.getID())})(t),Yo(t.getName(),t.getID()),jo(_t().length)}(t)})),C().subscribe("RENAME_CATEGORY_REQUEST",((e,t)=>{const{categoryID:n,newName:o}=t;yr(n,o)})),C().subscribe("DELETE_CATEGORY_REQUEST",((e,t)=>{wr(t)})),C().subscribe("DELETE_CONTAINING_TODOS_REQUEST",((e,t)=>{!function(e){Rt(e).getTodos().forEach((e=>{dr(e.get("id"))}))}(t)})),C().subscribe("SORT_SETTINGS_REQUEST",(function(){const e=Pt(Mo());"today"!==e.getID()?or(e.getCurrentSortingMethod(),["creation-date","name","priority","due-date"]):or(e.getCurrentSortingMethod(),["creation-date","name","priority"])})),C().subscribe("FILTER_SETTINGS_REQUEST",(function(){!function(e,t){document.dispatchEvent(new Event("click"));(function(e,t){const n=nr(fo(Ln.filterSetting,"button"));return n.handleSettingItemsClickEvents=function(e){po(e.target,"named-button")&&(C().publish("FILTER_TODOS_REQUEST",e.target.dataset.id),n.deleteSettings(e))},n.deleteSettingsFn=function(){n.settingsList.removeEventListener("click",n.handleSettingItemsClickEvents)},n.initCategoryFilterMenu=function(){n.initCategoryOrganizeMenu(),yo(n.containerTitle,"Filter"),n.settingsList.addEventListener("click",n.handleSettingItemsClickEvents),t&&t.forEach((t=>{const o=Sn(xe(t.split("-").join(" ")),"filter-todos",t);fo(o,"button").dataset.id===e&&mo(fo(o,"button"),"selected"),lo(n.settingsList,o)})),n.addAdditionalDeleteSettingsFn(n.deleteSettingsFn),n.trap.activate()},n})(e,t).initCategoryFilterMenu()}(Pt(Mo()).getCurrentFilterMethod(),["no-filter","priority-one","priority-two","priority-three","completed","uncompleted"])})),C().subscribe("SORT_TODOS_REQUEST",((e,t)=>{!function(e){(function(e,t){Pt(e).setSortingMethod(t),Nt()&&function(e,t){const n=n=>{const o=JSON.parse(localStorage.getItem(`${n}-${e}`));o.sortingMethod=t,localStorage.setItem(`${n}-${e}`,JSON.stringify(o))};JSON.parse(localStorage.getItem(`devCategory-${e}`))?n("devCategory"):n("userCategory")}(e,t)})(Mo(),e),vr(Mo()),mr(Mo())}(t)})),C().subscribe("FILTER_TODOS_REQUEST",((e,t)=>{!function(e){(function(e,t){Pt(e).setFilterMethod(t),Nt()&&function(e,t){const n=n=>{const o=JSON.parse(localStorage.getItem(`${n}-${e}`));o.filterMethod=t,localStorage.setItem(`${n}-${e}`,JSON.stringify(o))};JSON.parse(localStorage.getItem(`devCategory-${e}`))?n("devCategory"):n("userCategory")}(e,t)})(Mo(),e),vr(Mo()),mr(Mo())}(t)})),C().subscribe("TODO_MODAL_REQUEST",((e,t)=>{(e=>{const t=Wt(e),n=Pt(e);t?function(e){const t=Object.create(Vi());return t.submitModalFn=function(n){n.preventDefault();const o=new FormData(t.form),i=o.get("dueDate")?o.get("dueDate").split("/")[1].trim():o.get("dueDate"),r=t.categorySelectButton.dataset.id;t.closeModal(),C().publish("EDIT_TODO_REQUEST",{todoID:e[6],newTitle:o.get("title").trim(),newDescription:o.get("description").trim(),newPriority:o.get("priority"),newDueDate:i,newCategoryID:r})},t.initEditTodoModal=function(){t.initTodoFormModal(),t.modifySubmitButton("Edit");const[n,o,i,r,a,s]=e;t.titleInput.value=n,t.titleInput.dispatchEvent(new Event("input")),o&&(t.descriptionInput.value=o,t.descriptionInput.dispatchEvent(new Event("input"))),i&&fo(t.prioritiesFieldset,`input[value='${i}']`).setAttribute("checked","true"),a&&t.selectCategory(a,s),r&&t.selectDate(r),t.setTrap(uo(t.form,{initialFocus:()=>Ln.modal,allowOutsideClick:()=>!0,escapeDeactivates:()=>!1,returnFocusOnDeactivate:()=>!0,preventScroll:()=>!0,setReturnFocus:()=>fo(fo(Nn[Mo()],`[data-id="${e[6]}"]`),".settings-button")})),t.trap.activate(),t.setSubmitModalFn(t.submitModalFn)},t}([t.get("title"),t.get("description"),t.get("priority"),t.get("dueDate"),t.get("categoryID"),t.get("categoryName"),t.get("id")]).initEditTodoModal():Rt(e)?Xi("user-category",[n.getID(),n.getName()]):Xi(e)})(t)})),C().subscribe("CATEGORIES_DROPDOWN_REQUEST",(()=>{(function(){const e=fo(Ln.modal,".form-overlay");mo(e,"visible"),e.addEventListener("click",c);const t=fo(Ln.modal,".categories-dropdown-button");Eo(t),mo(t,"focused");const n=go(t),o=function(){const e=yn("div","categories-dropdown");e.classList.add("visible");const t=yn("h4","categories-dropdown-title");t.setAttribute("tabindex","0"),t.textContent="No categories created",e.appendChild(t);const n=yn("ul","categories-dropdown-list");return e.appendChild(n),e}();o.addEventListener("keyup",a),lo(n,o);const i=fo(o,".categories-dropdown-list");i.addEventListener("click",s);const r=uo(o,{allowOutsideClick:()=>!0,escapeDeactivates:()=>!1,initialFocus:()=>!1,setReturnFocus:()=>t});function a(e){"Escape"===e.key&&(e.stopPropagation(),c())}function s(e){const n=e.target.closest(".category-select-item");n&&(t.dataset.id=n.dataset.id,yo(t,n.textContent),t.setAttribute("aria-label",`Todo category: ${this.textContent}. Click this button to change the category of this todo`),vo(t,"empty"),fo(i,".selected")&&vo(fo(i,".selected"),"selected"),mo(n,"selected"),c())}function c(){r.deactivate(),vo(e,"visible"),Co(t),vo(t,"focused"),vo(o,"visible"),document.removeEventListener("keyup",a),o.removeEventListener("keyup",a),i.removeEventListener("click",s),e.removeEventListener("click",c),o.remove()}r.activate(),document.addEventListener("keyup",a)})(),_t().forEach((e=>{!function(e,t){const n=fo(Ln.modal,".categories-dropdown-button"),o=go(n),i=fo(o,".categories-dropdown"),r=fo(i,".categories-dropdown-list"),a=fo(o,".categories-dropdown-title");a.removeAttribute("tabindex"),yo(a,"Pick a category");const s=function(e,t){const n=document.createElement("li"),o=Dn(t,bn.category);return o.dataset.id=e,o.classList.add("category-select-item"),o.setAttribute("type","button"),o.setAttribute("aria-label",`Category: ${t}`),n.appendChild(o),n}(e,t);lo(r,s);const c=fo(s,"button");n.dataset.id===c.dataset.id&&mo(c,"selected"),po(c,"selected")&&c.setAttribute("aria-label",`Category: ${c.textContent} (currently selected)`),Io(i,265)}(e.getID(),e.getName())}))})),C().subscribe("SEARCH_REQUEST",((e,t)=>{Dr(t)})),C().subscribe("SHOW_TODO_LOCATION_REQUEST",((e,t)=>{!function(e){Lo(e)||br("all-todos"),function(e){const t=fo(Nn[Mo()],`[data-id="${e}"]`),n=()=>{vo(t,"highlighted"),po(t,"filteredOut")&&t.setAttribute("tabindex","-1"),t.removeEventListener("blur",n),window.removeEventListener("click",n),window.removeEventListener("touchstart",n)};po(t,"filteredOut")&&t.setAttribute("tabindex","0"),t.addEventListener("blur",n),mo(t,"highlighted"),bo(t),window.addEventListener("click",n),window.addEventListener("touchstart",n)}(e);const t=Wt(e);!t.hasAdditionalInfo()||t.get("filteredOut")||No(e)||ur(e)}(t)})),C().subscribe("DELETE_TODO_MODAL_REQUEST",((e,t)=>{!function(e){var t,n;e&&(t=e,n=Wt(e).get("title"),function(e,t){const n=Object.create(tr(t));return n.submitModalFn=function(t){t.preventDefault(),n.closeModal(),C().publish("DELETE_TODO_REQUEST",e)},n.initDeleteTodoModal=function(){n.initDeleteConfirmationModal(),n.setSubmitModalFn(n.submitModalFn)},n}(t,n).initDeleteTodoModal())}(t)})),C().subscribe("DELETE_CATEGORY_MODAL_REQUEST",((e,t)=>{Cr(t)})),function(){if(Nt()){if(!localStorage.getItem("isFamiliar")){const e=Ot("My first category");localStorage.setItem(`userCategory-${e.getID()}`,JSON.stringify(e));const t=Lt("Welcome! Click the arrow button bellow to find out more about this app.","Do It is a vanilla JavaScript and CSS only app that saves your progress on the current browser using localStorage. For now, it allows you to create, edit, delete, sort, filter, and search for todos. You can also create and rename Categories as you wish. Each 60 seconds, Do It verifies the due date of your todos to determine whether they became 'overdue' as time went on, and applies visual changes for you to be easier to differentiate between 'due' and 'overdue' todos. This app is a work in progress, and more features will be added in the future.","1");localStorage.setItem(`todo-${t.get("id")}`,JSON.stringify(t))}localStorage.setItem("isFamiliar","true"),At.forEach((e=>{localStorage.getItem(`devCategory-${e.getID()}`)?(e=>{const t=JSON.parse(e);Object.setPrototypeOf(t,St);const n=At.map((e=>e.id)).indexOf(t.getID());At[n]=t})(localStorage.getItem(`devCategory-${e.getID()}`)):localStorage.setItem(`devCategory-${e.getID()}`,JSON.stringify(e))})),Object.keys(localStorage).forEach((e=>{/userCategory-.*/.test(e)&&(e=>{const t=JSON.parse(e),n={...St,...xt};Object.setPrototypeOf(t,n),Ft.push(t)})(localStorage.getItem(e))})),Ft.sort(((e,t)=>e.getCreationDate()-t.getCreationDate())),Object.keys(localStorage).forEach((e=>{/todo-.*/.test(e)&&(e=>{const t=JSON.parse(e);Object.setPrototypeOf(t,It),Ie(t,Ut)})(localStorage.getItem(e))}))}}(),lo(Ln.body,Ln.modal,Ln.header,Ln.main,Ln.footer,Ln.headerOverlay),lo(fo(Ln.header,"#header-top-side"),Ln.menuButton),lo(Ln.header,Ln.nav),lo(Ln.nav,Ln.devNavbar,Ln.userNavbar),lo(Ln.devNavbar,Ln.devNavbarList),lo(Ln.devNavbarList,Ln.addTodoButton,Ln.searchButton),lo(fo(Ln.userNavbar,"#user-nav-header"),Ln.addCategoryButton,Ln.expandCategoriesButton),lo(Ln.userNavbar,Ln.userNavbarList),lo(Ln.main,Ln.contentHeader,Ln.content),lo(fo(Ln.contentHeader,"header"),Ln.contentTitle,Ln.contentSettings),lo(Ln.contentSettings,Ln.sortSetting,Ln.filterSetting),lo(Ln.content,Ln.contentAddButton),Ln.menuButton.addEventListener("click",(function e(t){t.stopImmediatePropagation(),po(Ln.header,"hidden")?function(){if(Ln.menuButton.setAttribute("aria-label","Hide menu"),Ln.nav.style.visibility="visible",po(Ln.header,"hidden")&&(vo(Ln.header,"hidden"),vo(Ln.body,"header-hidden"),vo(Ln.menuButton,"selected")),mo(Ln.header,"visible"),!po(Ln.header,"mobile"))return;ko(),Ln.headerOverlay.style.display="initial",mo(Ln.headerOverlay,"visible"),Ln.menuButton.removeEventListener("click",e),Ln.header.addEventListener("click",n),Ln.headerOverlay.addEventListener("click",o),Ln.mobileVersion.addEventListener("change",o);const t=uo(Ln.header,{initialFocus:()=>!1,allowOutsideClick:()=>!0,escapeDeactivates:()=>!1,returnFocusOnDeactivate:()=>!0});function n(e){const t=e.target.closest(".todo-holder");fo(t,".input-container")||(t&&o(),e.target===Ln.menuButton&&o(),e.target.closest("#search")&&o())}function o(){t.deactivate(),Ln.menuButton.addEventListener("click",e),Ln.header.removeEventListener("click",n),Ln.headerOverlay.removeEventListener("click",o),Ln.mobileVersion.removeEventListener("change",o),fo(Ln.modal,"#search-container")||Oo(),Ln.mobileVersion.matches&&Po(),Ln.headerOverlay.addEventListener("transitionend",(function e(){po(Ln.headerOverlay,"visible")||(Ln.headerOverlay.style.display="none"),Ln.headerOverlay.removeEventListener("transitionend",e)})),vo(Ln.headerOverlay,"visible")}t.activate()}():Po()})),fo(Ln.addTodoButton,"button").addEventListener("click",er),fo(Ln.searchButton,"button").addEventListener("click",(function(){(function(){const e=Object.create(Ki("Search todos","search-container"));return e.fieldset=fo(e.form,"fieldset"),e.searchBar=xn("Todo title","title","todos-searcher","search",{placeholder:"Search todos"}),e.searchInput=fo(e.searchBar,"input"),e.searchResultsList=wn("ul","search-results-list"),e.trap=uo(e.form,{allowOutsideClick:()=>!0,escapeDeactivates:()=>!1,setReturnFocus:()=>fo(Ln.main,".highlighted")||this}),e.handleAnchorTodoElementsClickEvents=function(t){const n=t.target.closest(".anchor-todo-item");n&&(t.preventDefault(),t.stopImmediatePropagation(),e.closeModal(),C().publish("SHOW_TODO_LOCATION_REQUEST",n.dataset.id))},e.sendSearchCoordinates=function(){C().publish("SEARCH_REQUEST",this.value)},e.closeModalFn=function(){e.searchInput.removeEventListener("input",e.sendSearchCoordinates),e.searchResultsList.removeEventListener("click",e.handleAnchorTodoElementsClickEvents),e.trap.deactivate()},e.initSearchModal=function(){e.initModal(),e.searchInput.addEventListener("input",e.sendSearchCoordinates),lo(e.fieldset,e.searchBar),e.searchResultsList.addEventListener("click",e.handleAnchorTodoElementsClickEvents),lo(e.form,e.searchResultsList),e.trap.activate(),e.addAdditionalCloseModalFn(e.closeModalFn)},e})().initSearchModal()})),Ln.addCategoryButton.addEventListener("click",(function(){(function(){const e=Object.create(Zi("Category details","category-form"));return e.nameInputContainer=xn("name","name","category-name","text",{minlength:"2",placeholder:"Category name"}),e.nameInput=fo(e.nameInputContainer,"#category-name"),e.trap=uo(e.form,{allowOutsideClick:()=>!0,escapeDeactivates:()=>!1,returnFocusOnDeactivate:()=>!0,setReturnFocus:()=>this}),e.checkInput=function(){this.value.match(/([a-zA-Z0-9)]){1,}/g)?Co(e.submitButton):Eo(e.submitButton)},e.closeModalFn=function(){e.trap.deactivate(),e.nameInput.removeEventListener("input",e.checkInput)},e.submitModalFn=function(t){t.preventDefault(),e.closeModal();const n=new FormData(e.form);C().publish("CREATE_CATEGORY_REQUEST",n.get("name").trim())},e.initCategoryFormModal=function(){e.initFormModal(),e.nameInput.addEventListener("input",e.checkInput),lo(e.fieldset,e.nameInputContainer),e.trap.activate(),e.addAdditionalCloseModalFn(e.closeModalFn),e.setSubmitModalFn(e.submitModalFn)},e})().initCategoryFormModal()})),Ln.expandCategoriesButton.addEventListener("click",(function(){if(po(Ln.expandCategoriesButton,"expanded")?Ln.expandCategoriesButton.setAttribute("aria-label","Hide user categories"):Ln.expandCategoriesButton.setAttribute("aria-label","Show user categories"),"expanded",Ln.expandCategoriesButton.classList.toggle("expanded"),po(Ln.userNavbarList,"hidden"))return Ln.userNavbarList.style.removeProperty("display"),void vo(Ln.userNavbarList,"hidden");const e=()=>{po(Ln.userNavbarList,"hidden")&&(Ln.userNavbarList.style.display="none"),Ln.userNavbarList.removeEventListener("animationend",e)};Ln.userNavbarList.addEventListener("animationend",e),mo(Ln.userNavbarList,"hidden")})),Ln.userNavbarList.addEventListener("click",(function(e){const t=e.target.closest("li"),n=fo(t,".todo-holder");if(t&&!fo(n,".input-container"))return po(e.target,"settings-button")?(e.stopImmediatePropagation(),void _o(fo(go(fo(Ln.userNavbarList,`[data-id="${n.dataset.id}"]`)),".settings-button"),n.dataset.id)):void Bo.bind(n)()})),Ln.sortSetting.addEventListener("click",(function(e){e.stopImmediatePropagation(),C().publish("SORT_SETTINGS_REQUEST")})),Ln.filterSetting.addEventListener("click",(function(e){e.stopImmediatePropagation(),C().publish("FILTER_SETTINGS_REQUEST")})),Ln.contentAddButton.addEventListener("click",er),Ln.mobileVersion.addEventListener("change",(function(){po(Ln.header,"mobile")&&vo(Ln.header,"mobile"),Ln.mobileVersion.matches&&(mo(Ln.header,"mobile"),Po())})),Ln.mobileVersion.dispatchEvent(new Event("change")),document.addEventListener("touchstart",(function(){}),!1),At.forEach((e=>{!function(e,t){const n=function(e,t){const n=document.createElement("li"),o=Dn(e,bn[t],t);o.classList.add("todo-holder"),o.setAttribute("aria-label",e),n.appendChild(o);const i=yn("span","todos-count");return o.appendChild(i),n}(e,t);fo(n,"button").addEventListener("click",Bo),lo(Ln.devNavbarList,n),Nn[t]=""}(e.getName(),e.getID())})),_t().forEach((e=>{Yo(e.getName(),e.getID())})),jo(_t().length),At.concat(Ft).forEach((e=>{Ro(e.getID(),e.getTodos().length)})),mr("all-todos"),Er(),setInterval(Er,6e4)})()})();